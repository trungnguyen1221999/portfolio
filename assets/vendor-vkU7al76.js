import{r as E,j as ve,g as Vn,s as hn,a as no}from"./vendor-react-Lgn59dWL.js";var Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function so(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const us=E.createContext({});function wt(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const ls=typeof window<"u",hs=ls?E.useLayoutEffect:E.useEffect,Yt=E.createContext(null);function fs(e,t){e.indexOf(t)===-1&&e.push(t)}function ds(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const pe=(e,t,n)=>n>t?t:n<e?e:n;let ps=()=>{};const we={},io=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ro(e){return typeof e=="object"&&e!==null}const oo=e=>/^0[^.\s]+$/u.test(e);function ms(e){let t;return()=>(t===void 0&&(t=e()),t)}const ae=e=>e,Sc=(e,t)=>n=>t(e(n)),xt=(...e)=>e.reduce(Sc),dt=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class gs{constructor(){this.subscriptions=[]}add(t){return fs(this.subscriptions,t),()=>ds(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let o=0;o<i;o++){const r=this.subscriptions[o];r&&r(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const be=e=>e*1e3,oe=e=>e/1e3;function ao(e,t){return t?e*(1e3/t):0}const co=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Ac=1e-7,Ec=12;function Pc(e,t,n,s,i){let o,r,a=0;do r=t+(n-t)/2,o=co(r,s,i)-e,o>0?n=r:t=r;while(Math.abs(o)>Ac&&++a<Ec);return r}function _t(e,t,n,s){if(e===t&&n===s)return ae;const i=o=>Pc(o,0,1,e,n);return o=>o===0||o===1?o:co(i(o),t,s)}const uo=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lo=e=>t=>1-e(1-t),ho=_t(.33,1.53,.69,.99),ys=lo(ho),fo=uo(ys),po=e=>(e*=2)<1?.5*ys(e):.5*(2-Math.pow(2,-10*(e-1))),vs=e=>1-Math.sin(Math.acos(e)),mo=lo(vs),go=uo(vs),kc=_t(.42,0,1,1),Cc=_t(0,0,.58,1),yo=_t(.42,0,.58,1),Mc=e=>Array.isArray(e)&&typeof e[0]!="number",vo=e=>Array.isArray(e)&&typeof e[0]=="number",zc={linear:ae,easeIn:kc,easeInOut:yo,easeOut:Cc,circIn:vs,circInOut:go,circOut:mo,backIn:ys,backInOut:fo,backOut:ho,anticipate:po},Oc=e=>typeof e=="string",Ks=e=>{if(vo(e)){ps(e.length===4);const[t,n,s,i]=e;return _t(t,n,s,i)}else if(Oc(e))return zc[e];return e},Pt=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Dc(e,t){let n=new Set,s=new Set,i=!1,o=!1;const r=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(l){r.has(l)&&(u.schedule(l),e()),l(a)}const u={schedule:(l,h=!1,f=!1)=>{const p=f&&i?n:s;return h&&r.add(l),p.has(l)||p.add(l),l},cancel:l=>{s.delete(l),r.delete(l)},process:l=>{if(a=l,i){o=!0;return}i=!0,[n,s]=[s,n],n.forEach(c),n.clear(),i=!1,o&&(o=!1,u.process(l))}};return u}const Vc=40;function bo(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,r=Pt.reduce((b,_)=>(b[_]=Dc(o),b),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:l,update:h,preRender:f,render:d,postRender:p}=r,m=()=>{const b=we.useManualTiming?i.timestamp:performance.now();n=!1,we.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(b-i.timestamp,Vc),1)),i.timestamp=b,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),l.process(i),h.process(i),f.process(i),d.process(i),p.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(m))},g=()=>{n=!0,s=!0,i.isProcessing||e(m)};return{schedule:Pt.reduce((b,_)=>{const v=r[_];return b[_]=(w,A=!1,T=!1)=>(n||g(),v.schedule(w,A,T)),b},{}),cancel:b=>{for(let _=0;_<Pt.length;_++)r[Pt[_]].cancel(b)},state:i,steps:r}}const{schedule:L,cancel:xe,state:J,steps:fn}=bo(typeof requestAnimationFrame<"u"?requestAnimationFrame:ae,!0);let Rt;function Rc(){Rt=void 0}const te={now:()=>(Rt===void 0&&te.set(J.isProcessing||we.useManualTiming?J.timestamp:performance.now()),Rt),set:e=>{Rt=e,queueMicrotask(Rc)}},wo=e=>t=>typeof t=="string"&&t.startsWith(e),xo=wo("--"),Ic=wo("var(--"),bs=e=>Ic(e)?$c.test(e.split("/*")[0].trim()):!1,$c=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function qs(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Je={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},pt={...Je,transform:e=>pe(0,1,e)},kt={...Je,default:1},at=e=>Math.round(e*1e5)/1e5,ws=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Lc(e){return e==null}const Fc=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xs=(e,t)=>n=>!!(typeof n=="string"&&Fc.test(n)&&n.startsWith(e)||t&&!Lc(n)&&Object.prototype.hasOwnProperty.call(n,t)),_o=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,o,r,a]=s.match(ws);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(r),alpha:a!==void 0?parseFloat(a):1}},jc=e=>pe(0,255,e),dn={...Je,transform:e=>Math.round(jc(e))},Ie={test:xs("rgb","red"),parse:_o("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+dn.transform(e)+", "+dn.transform(t)+", "+dn.transform(n)+", "+at(pt.transform(s))+")"};function Nc(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Rn={test:xs("#"),parse:Nc,transform:Ie.transform},Tt=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Te=Tt("deg"),de=Tt("%"),P=Tt("px"),Zc=Tt("vh"),Bc=Tt("vw"),Hs={...de,parse:e=>de.parse(e)/100,transform:e=>de.transform(e*100)},Ue={test:xs("hsl","hue"),parse:_o("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+de.transform(at(t))+", "+de.transform(at(n))+", "+at(pt.transform(s))+")"},G={test:e=>Ie.test(e)||Rn.test(e)||Ue.test(e),parse:e=>Ie.test(e)?Ie.parse(e):Ue.test(e)?Ue.parse(e):Rn.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ie.transform(e):Ue.transform(e),getAnimatableNone:e=>{const t=G.parse(e);return t.alpha=0,G.transform(t)}},Uc=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Wc(e){return isNaN(e)&&typeof e=="string"&&(e.match(ws)?.length||0)+(e.match(Uc)?.length||0)>0}const To="number",So="color",Gc="var",Kc="var(",Xs="${}",qc=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mt(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(qc,c=>(G.test(c)?(s.color.push(o),i.push(So),n.push(G.parse(c))):c.startsWith(Kc)?(s.var.push(o),i.push(Gc),n.push(c)):(s.number.push(o),i.push(To),n.push(parseFloat(c))),++o,Xs)).split(Xs);return{values:n,split:a,indexes:s,types:i}}function Ao(e){return mt(e).values}function Eo(e){const{split:t,types:n}=mt(e),s=t.length;return i=>{let o="";for(let r=0;r<s;r++)if(o+=t[r],i[r]!==void 0){const a=n[r];a===To?o+=at(i[r]):a===So?o+=G.transform(i[r]):o+=i[r]}return o}}const Hc=e=>typeof e=="number"?0:G.test(e)?G.getAnimatableNone(e):e;function Xc(e){const t=Ao(e);return Eo(e)(t.map(Hc))}const Pe={test:Wc,parse:Ao,createTransformer:Eo,getAnimatableNone:Xc};function pn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Yc({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,o=0,r=0;if(!t)i=o=r=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;i=pn(c,a,e+1/3),o=pn(c,a,e),r=pn(c,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(r*255),alpha:s}}function jt(e,t){return n=>n>0?t:e}const N=(e,t,n)=>e+(t-e)*n,mn=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},Jc=[Rn,Ie,Ue],Qc=e=>Jc.find(t=>t.test(e));function Ys(e){const t=Qc(e);if(!t)return!1;let n=t.parse(e);return t===Ue&&(n=Yc(n)),n}const Js=(e,t)=>{const n=Ys(e),s=Ys(t);if(!n||!s)return jt(e,t);const i={...n};return o=>(i.red=mn(n.red,s.red,o),i.green=mn(n.green,s.green,o),i.blue=mn(n.blue,s.blue,o),i.alpha=N(n.alpha,s.alpha,o),Ie.transform(i))},In=new Set(["none","hidden"]);function eu(e,t){return In.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function tu(e,t){return n=>N(e,t,n)}function _s(e){return typeof e=="number"?tu:typeof e=="string"?bs(e)?jt:G.test(e)?Js:iu:Array.isArray(e)?Po:typeof e=="object"?G.test(e)?Js:nu:jt}function Po(e,t){const n=[...e],s=n.length,i=e.map((o,r)=>_s(o)(o,t[r]));return o=>{for(let r=0;r<s;r++)n[r]=i[r](o);return n}}function nu(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=_s(e[i])(e[i],t[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}}function su(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],r=e.indexes[o][s[o]],a=e.values[r]??0;n[i]=a,s[o]++}return n}const iu=(e,t)=>{const n=Pe.createTransformer(t),s=mt(e),i=mt(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?In.has(e)&&!i.values.length||In.has(t)&&!s.values.length?eu(e,t):xt(Po(su(s,i),i.values),n):jt(e,t)};function ko(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?N(e,t,n):_s(e)(e,t)}const ru=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>L.update(t,n),stop:()=>xe(t),now:()=>J.isProcessing?J.timestamp:te.now()}},Co=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)s+=Math.round(e(o/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Nt=2e4;function Ts(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Nt;)t+=n,s=e.next(t);return t>=Nt?1/0:t}function ou(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(Ts(s),Nt);return{type:"keyframes",ease:o=>s.next(i*o).value/t,duration:oe(i)}}const au=5;function Mo(e,t,n){const s=Math.max(t-au,0);return ao(n-e(s),t-s)}const U={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gn=.001;function cu({duration:e=U.duration,bounce:t=U.bounce,velocity:n=U.velocity,mass:s=U.mass}){let i,o,r=1-t;r=pe(U.minDamping,U.maxDamping,r),e=pe(U.minDuration,U.maxDuration,oe(e)),r<1?(i=u=>{const l=u*r,h=l*e,f=l-n,d=$n(u,r),p=Math.exp(-h);return gn-f/d*p},o=u=>{const h=u*r*e,f=h*n+n,d=Math.pow(r,2)*Math.pow(u,2)*e,p=Math.exp(-h),m=$n(Math.pow(u,2),r);return(-i(u)+gn>0?-1:1)*((f-d)*p)/m}):(i=u=>{const l=Math.exp(-u*e),h=(u-n)*e+1;return-gn+l*h},o=u=>{const l=Math.exp(-u*e),h=(n-u)*(e*e);return l*h});const a=5/e,c=lu(i,o,a);if(e=be(e),isNaN(c))return{stiffness:U.stiffness,damping:U.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:r*2*Math.sqrt(s*u),duration:e}}}const uu=12;function lu(e,t,n){let s=n;for(let i=1;i<uu;i++)s=s-e(s)/t(s);return s}function $n(e,t){return e*Math.sqrt(1-t*t)}const hu=["duration","bounce"],fu=["stiffness","damping","mass"];function Qs(e,t){return t.some(n=>e[n]!==void 0)}function du(e){let t={velocity:U.velocity,stiffness:U.stiffness,damping:U.damping,mass:U.mass,isResolvedFromDuration:!1,...e};if(!Qs(e,fu)&&Qs(e,hu))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,o=2*pe(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:U.mass,stiffness:i,damping:o}}else{const n=cu(e);t={...t,...n,mass:U.mass},t.isResolvedFromDuration=!0}return t}function Zt(e=U.visualDuration,t=U.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const o=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:c,damping:u,mass:l,duration:h,velocity:f,isResolvedFromDuration:d}=du({...n,velocity:-oe(n.velocity||0)}),p=f||0,m=u/(2*Math.sqrt(c*l)),g=r-o,y=oe(Math.sqrt(c/l)),S=Math.abs(g)<5;s||(s=S?U.restSpeed.granular:U.restSpeed.default),i||(i=S?U.restDelta.granular:U.restDelta.default);let b;if(m<1){const v=$n(y,m);b=w=>{const A=Math.exp(-m*y*w);return r-A*((p+m*y*g)/v*Math.sin(v*w)+g*Math.cos(v*w))}}else if(m===1)b=v=>r-Math.exp(-y*v)*(g+(p+y*g)*v);else{const v=y*Math.sqrt(m*m-1);b=w=>{const A=Math.exp(-m*y*w),T=Math.min(v*w,300);return r-A*((p+m*y*g)*Math.sinh(T)+v*g*Math.cosh(T))/v}}const _={calculatedDuration:d&&h||null,next:v=>{const w=b(v);if(d)a.done=v>=h;else{let A=v===0?p:0;m<1&&(A=v===0?be(p):Mo(b,v,w));const T=Math.abs(A)<=s,k=Math.abs(r-w)<=i;a.done=T&&k}return a.value=a.done?r:w,a},toString:()=>{const v=Math.min(Ts(_),Nt),w=Co(A=>_.next(v*A).value,v,30);return v+"ms "+w},toTransition:()=>{}};return _}Zt.applyToOptions=e=>{const t=ou(e,100,Zt);return e.ease=t.ease,e.duration=be(t.duration),e.type="keyframes",e};function Ln({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:r,min:a,max:c,restDelta:u=.5,restSpeed:l}){const h=e[0],f={done:!1,value:h},d=T=>a!==void 0&&T<a||c!==void 0&&T>c,p=T=>a===void 0?c:c===void 0||Math.abs(a-T)<Math.abs(c-T)?a:c;let m=n*t;const g=h+m,y=r===void 0?g:r(g);y!==g&&(m=y-h);const S=T=>-m*Math.exp(-T/s),b=T=>y+S(T),_=T=>{const k=S(T),M=b(T);f.done=Math.abs(k)<=u,f.value=f.done?y:M};let v,w;const A=T=>{d(f.value)&&(v=T,w=Zt({keyframes:[f.value,p(f.value)],velocity:Mo(b,T,f.value),damping:i,stiffness:o,restDelta:u,restSpeed:l}))};return A(0),{calculatedDuration:null,next:T=>{let k=!1;return!w&&v===void 0&&(k=!0,_(T),A(T)),v!==void 0&&T>=v?w.next(T-v):(!k&&_(T),f)}}}function pu(e,t,n){const s=[],i=n||we.mix||ko,o=e.length-1;for(let r=0;r<o;r++){let a=i(e[r],e[r+1]);if(t){const c=Array.isArray(t)?t[r]||ae:t;a=xt(c,a)}s.push(a)}return s}function zo(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const o=e.length;if(ps(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=pu(t,s,i),c=a.length,u=l=>{if(r&&l<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(l<e[h+1]);h++);const f=dt(e[h],e[h+1],l);return a[h](f)};return n?l=>u(pe(e[0],e[o-1],l)):u}function mu(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=dt(0,t,s);e.push(N(n,1,i))}}function gu(e){const t=[0];return mu(t,e.length-1),t}function yu(e,t){return e.map(n=>n*t)}function vu(e,t){return e.map(()=>t||yo).splice(0,e.length-1)}function ct({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=Mc(s)?s.map(Ks):Ks(s),o={done:!1,value:t[0]},r=yu(n&&n.length===t.length?n:gu(t),e),a=zo(r,t,{ease:Array.isArray(i)?i:vu(t,i)});return{calculatedDuration:e,next:c=>(o.value=a(c),o.done=c>=e,o)}}const bu=e=>e!==null;function Ss(e,{repeat:t,repeatType:n="loop"},s,i=1){const o=e.filter(bu),a=i<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!a||s===void 0?o[a]:s}const wu={decay:Ln,inertia:Ln,tween:ct,keyframes:ct,spring:Zt};function Oo(e){typeof e.type=="string"&&(e.type=wu[e.type])}class As{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const xu=e=>e/100;class Jt extends As{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==te.now()&&this.tick(te.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Oo(t);const{type:n=ct,repeat:s=0,repeatDelay:i=0,repeatType:o,velocity:r=0}=t;let{keyframes:a}=t;const c=n||ct;c!==ct&&typeof a[0]!="number"&&(this.mixKeyframes=xt(xu,ko(a[0],a[1])),a=[0,100]);const u=c({...t,keyframes:a});o==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...a].reverse(),velocity:-r})),u.calculatedDuration===null&&(u.calculatedDuration=Ts(u));const{calculatedDuration:l}=u;this.calculatedDuration=l,this.resolvedDuration=l+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:o,mirroredGenerator:r,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:l,repeat:h,repeatType:f,repeatDelay:d,type:p,onUpdate:m,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,_=s;if(h){const T=Math.min(this.currentTime,i)/a;let k=Math.floor(T),M=T%1;!M&&T>=1&&(M=1),M===1&&k--,k=Math.min(k,h+1),k%2&&(f==="reverse"?(M=1-M,d&&(M-=d/a)):f==="mirror"&&(_=r)),b=pe(0,1,M)*a}const v=S?{done:!1,value:l[0]}:_.next(b);o&&(v.value=o(v.value));let{done:w}=v;!S&&c!==null&&(w=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&w);return A&&p!==Ln&&(v.value=Ss(l,this.options,g,this.speed)),m&&m(v.value),A&&this.finish(),v}then(t,n){return this.finished.then(t,n)}get duration(){return oe(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+oe(t)}get time(){return oe(this.currentTime)}set time(t){t=be(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(te.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=oe(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=ru,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(te.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function _u(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const $e=e=>e*180/Math.PI,Fn=e=>{const t=$e(Math.atan2(e[1],e[0]));return jn(t)},Tu={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Fn,rotateZ:Fn,skewX:e=>$e(Math.atan(e[1])),skewY:e=>$e(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},jn=e=>(e=e%360,e<0&&(e+=360),e),ei=Fn,ti=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ni=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Su={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ti,scaleY:ni,scale:e=>(ti(e)+ni(e))/2,rotateX:e=>jn($e(Math.atan2(e[6],e[5]))),rotateY:e=>jn($e(Math.atan2(-e[2],e[0]))),rotateZ:ei,rotate:ei,skewX:e=>$e(Math.atan(e[4])),skewY:e=>$e(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Nn(e){return e.includes("scale")?1:0}function Zn(e,t){if(!e||e==="none")return Nn(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=Su,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Tu,i=a}if(!i)return Nn(t);const o=s[t],r=i[1].split(",").map(Eu);return typeof o=="function"?o(r):r[o]}const Au=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Zn(n,t)};function Eu(e){return parseFloat(e.trim())}const Qe=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],et=new Set(Qe),si=e=>e===Je||e===P,Pu=new Set(["x","y","z"]),ku=Qe.filter(e=>!Pu.has(e));function Cu(e){const t=[];return ku.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ae={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Zn(t,"x"),y:(e,{transform:t})=>Zn(t,"y")};Ae.translateX=Ae.x;Ae.translateY=Ae.y;const Le=new Set;let Bn=!1,Un=!1,Wn=!1;function Do(){if(Un){const e=Array.from(Le).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=Cu(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([o,r])=>{s.getValue(o)?.set(r)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Un=!1,Bn=!1,Le.forEach(e=>e.complete(Wn)),Le.clear()}function Vo(){Le.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Un=!0)})}function Mu(){Wn=!0,Vo(),Do(),Wn=!1}class Es{constructor(t,n,s,i,o,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=o,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(Le.add(this),Bn||(Bn=!0,L.read(Vo),L.resolveKeyframes(Do))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const o=i?.get(),r=t[t.length-1];if(o!==void 0)t[0]=o;else if(s&&n){const a=s.readValue(n,r);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=r),i&&o===void 0&&i.set(t[0])}_u(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Le.delete(this)}cancel(){this.state==="scheduled"&&(Le.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const zu=e=>e.startsWith("--");function Ou(e,t,n){zu(t)?e.style.setProperty(t,n):e.style[t]=n}const Du=ms(()=>window.ScrollTimeline!==void 0),Vu={};function Ru(e,t){const n=ms(e);return()=>Vu[t]??n()}const Ro=Ru(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),it=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,ii={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:it([0,.65,.55,1]),circOut:it([.55,0,1,.45]),backIn:it([.31,.01,.66,-.59]),backOut:it([.33,1.53,.69,.99])};function Io(e,t){if(e)return typeof e=="function"?Ro()?Co(e,t):"ease-out":vo(e)?it(e):Array.isArray(e)?e.map(n=>Io(n,t)||ii.easeOut):ii[e]}function Iu(e,t,n,{delay:s=0,duration:i=300,repeat:o=0,repeatType:r="loop",ease:a="easeOut",times:c}={},u=void 0){const l={[t]:n};c&&(l.offset=c);const h=Io(a,i);Array.isArray(h)&&(l.easing=h);const f={delay:s,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:r==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(l,f)}function $o(e){return typeof e=="function"&&"applyToOptions"in e}function $u({type:e,...t}){return $o(e)&&Ro()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Lu extends As{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:o,allowFlatten:r=!1,finalKeyframe:a,onComplete:c}=t;this.isPseudoElement=!!o,this.allowFlatten=r,this.options=t,ps(typeof t.type!="string");const u=$u(t);this.animation=Iu(n,s,i,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const l=Ss(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(l):Ou(n,s,l),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return oe(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+oe(t)}get time(){return oe(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=be(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Du()?(this.animation.timeline=t,ae):n(this)}}const Lo={anticipate:po,backInOut:fo,circInOut:go};function Fu(e){return e in Lo}function ju(e){typeof e.ease=="string"&&Fu(e.ease)&&(e.ease=Lo[e.ease])}const yn=10;class Nu extends Lu{constructor(t){ju(t),Oo(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:o,...r}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Jt({...r,autoplay:!1}),c=Math.max(yn,te.now()-this.startTime),u=pe(0,yn,c-yn);n.setWithVelocity(a.sample(Math.max(0,c-u)).value,a.sample(c).value,u),a.stop()}}const ri=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Pe.test(e)||e==="0")&&!e.startsWith("url("));function Zu(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Bu(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],r=ri(i,t),a=ri(o,t);return!r||!a?!1:Zu(e)||(n==="spring"||$o(n))&&s}function Gn(e){e.duration=0,e.type="keyframes"}const Uu=new Set(["opacity","clipPath","filter","transform"]),Wu=ms(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Gu(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:o,type:r}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Wu()&&n&&Uu.has(n)&&(n!=="transform"||!u)&&!c&&!s&&i!=="mirror"&&o!==0&&r!=="inertia"}const Ku=40;class qu extends As{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:r="loop",keyframes:a,name:c,motionValue:u,element:l,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=te.now();const f={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:o,repeatType:r,name:c,motionValue:u,element:l,...h},d=l?.KeyframeResolver||Es;this.keyframeResolver=new d(a,(p,m,g)=>this.onKeyframesResolved(p,m,f,!g),c,u,l),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:o,type:r,velocity:a,delay:c,isHandoff:u,onUpdate:l}=s;this.resolvedAt=te.now(),Bu(t,o,r,a)||((we.instantAnimations||!c)&&l?.(Ss(t,s,n)),t[0]=t[t.length-1],Gn(s),s.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Ku?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},d=!u&&Gu(f)?new Nu({...f,element:f.motionValue.owner.current}):new Jt(f);d.finished.then(()=>this.notifyFinished()).catch(ae),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Mu()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Hu=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Xu(e){const t=Hu.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function Fo(e,t,n=1){const[s,i]=Xu(e);if(!s)return;const o=window.getComputedStyle(t).getPropertyValue(s);if(o){const r=o.trim();return io(r)?parseFloat(r):r}return bs(i)?Fo(i,t,n+1):i}function Ps(e,t){return e?.[t]??e?.default??e}const jo=new Set(["width","height","top","left","right","bottom",...Qe]),Yu={test:e=>e==="auto",parse:e=>e},No=e=>t=>t.test(e),Zo=[Je,P,de,Te,Bc,Zc,Yu],oi=e=>Zo.find(No(e));function Ju(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||oo(e):!0}const Qu=new Set(["brightness","contrast","saturate","opacity"]);function el(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(ws)||[];if(!s)return e;const i=n.replace(s,"");let o=Qu.has(t)?1:0;return s!==n&&(o*=100),t+"("+o+i+")"}const tl=/\b([a-z-]*)\(.*?\)/gu,Kn={...Pe,getAnimatableNone:e=>{const t=e.match(tl);return t?t.map(el).join(" "):e}},ai={...Je,transform:Math.round},nl={rotate:Te,rotateX:Te,rotateY:Te,rotateZ:Te,scale:kt,scaleX:kt,scaleY:kt,scaleZ:kt,skew:Te,skewX:Te,skewY:Te,distance:P,translateX:P,translateY:P,translateZ:P,x:P,y:P,z:P,perspective:P,transformPerspective:P,opacity:pt,originX:Hs,originY:Hs,originZ:P},ks={borderWidth:P,borderTopWidth:P,borderRightWidth:P,borderBottomWidth:P,borderLeftWidth:P,borderRadius:P,radius:P,borderTopLeftRadius:P,borderTopRightRadius:P,borderBottomRightRadius:P,borderBottomLeftRadius:P,width:P,maxWidth:P,height:P,maxHeight:P,top:P,right:P,bottom:P,left:P,inset:P,insetBlock:P,insetBlockStart:P,insetBlockEnd:P,insetInline:P,insetInlineStart:P,insetInlineEnd:P,padding:P,paddingTop:P,paddingRight:P,paddingBottom:P,paddingLeft:P,paddingBlock:P,paddingBlockStart:P,paddingBlockEnd:P,paddingInline:P,paddingInlineStart:P,paddingInlineEnd:P,margin:P,marginTop:P,marginRight:P,marginBottom:P,marginLeft:P,marginBlock:P,marginBlockStart:P,marginBlockEnd:P,marginInline:P,marginInlineStart:P,marginInlineEnd:P,backgroundPositionX:P,backgroundPositionY:P,...nl,zIndex:ai,fillOpacity:pt,strokeOpacity:pt,numOctaves:ai},sl={...ks,color:G,backgroundColor:G,outlineColor:G,fill:G,stroke:G,borderColor:G,borderTopColor:G,borderRightColor:G,borderBottomColor:G,borderLeftColor:G,filter:Kn,WebkitFilter:Kn},Bo=e=>sl[e];function Uo(e,t){let n=Bo(e);return n!==Kn&&(n=Pe),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const il=new Set(["auto","none","0"]);function rl(e,t,n){let s=0,i;for(;s<e.length&&!i;){const o=e[s];typeof o=="string"&&!il.has(o)&&mt(o).values.length&&(i=e[s]),s++}if(i&&n)for(const o of t)e[o]=Uo(n,i)}class ol extends Es{constructor(t,n,s,i,o){super(t,n,s,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let h=t[l];if(typeof h=="string"&&(h=h.trim(),bs(h))){const f=Fo(h,n.current);f!==void 0&&(t[l]=f),l===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!jo.has(s)||t.length!==2)return;const[i,o]=t,r=oi(i),a=oi(o),c=qs(i),u=qs(o);if(c!==u&&Ae[s]){this.needsMeasurement=!0;return}if(r!==a)if(si(r)&&si(a))for(let l=0;l<t.length;l++){const h=t[l];typeof h=="string"&&(t[l]=parseFloat(h))}else Ae[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||Ju(t[i]))&&s.push(i);s.length&&rl(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ae[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,r=s[o];s[o]=Ae[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,c])=>{t.getValue(a).set(c)}),this.resolveNoneKeyframes()}}function Wo(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Go=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Ko(e){return ro(e)&&"offsetHeight"in e}const ci=30,al=e=>!isNaN(parseFloat(e)),ut={current:void 0};class cl{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const i=te.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=te.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=al(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new gs);const s=this.events[t].add(n);return t==="change"?()=>{s(),L.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return ut.current&&ut.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=te.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ci)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ci);return ao(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fe(e,t){return new cl(e,t)}const{schedule:Cs}=bo(queueMicrotask,!1),le={x:!1,y:!1};function qo(){return le.x||le.y}function ul(e){return e==="x"||e==="y"?le[e]?null:(le[e]=!0,()=>{le[e]=!1}):le.x||le.y?null:(le.x=le.y=!0,()=>{le.x=le.y=!1})}function Ho(e,t){const n=Wo(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function ui(e){return!(e.pointerType==="touch"||qo())}function ll(e,t,n={}){const[s,i,o]=Ho(e,n),r=a=>{if(!ui(a))return;const{target:c}=a,u=t(c,a);if(typeof u!="function"||!c)return;const l=h=>{ui(h)&&(u(h),c.removeEventListener("pointerleave",l))};c.addEventListener("pointerleave",l,i)};return s.forEach(a=>{a.addEventListener("pointerenter",r,i)}),o}const Xo=(e,t)=>t?e===t?!0:Xo(e,t.parentElement):!1,Ms=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,hl=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Yo(e){return hl.has(e.tagName)||e.isContentEditable===!0}const It=new WeakSet;function li(e){return t=>{t.key==="Enter"&&e(t)}}function vn(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const fl=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=li(()=>{if(It.has(n))return;vn(n,"down");const i=li(()=>{vn(n,"up")}),o=()=>vn(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function hi(e){return Ms(e)&&!qo()}function dl(e,t,n={}){const[s,i,o]=Ho(e,n),r=a=>{const c=a.currentTarget;if(!hi(a))return;It.add(c);const u=t(c,a),l=(d,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),It.has(c)&&It.delete(c),hi(d)&&typeof u=="function"&&u(d,{success:p})},h=d=>{l(d,c===window||c===document||n.useGlobalTarget||Xo(c,d.target))},f=d=>{l(d,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return s.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",r,i),Ko(a)&&(a.addEventListener("focus",u=>fl(u,i)),!Yo(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}function Jo(e){return ro(e)&&"ownerSVGElement"in e}function pl(e){return Jo(e)&&e.tagName==="svg"}function ml(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],i=e[1+n],o=e[2+n],r=e[3+n],a=zo(i,o,r);return t?a(s):a}const X=e=>!!(e&&e.getVelocity);function gl(e,t,n){const s=e.get();let i=null,o=s,r;const a=typeof s=="string"?s.replace(/[\d.-]/g,""):void 0,c=()=>{i&&(i.stop(),i=null)},u=()=>{c(),i=new Jt({keyframes:[di(e.get()),di(o)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:r})};if(e.attach((l,h)=>{o=l,r=f=>h(fi(f,a)),L.postRender(()=>{u(),e.events.animationStart?.notify(),i?.then(()=>{e.events.animationComplete?.notify()})})},c),X(t)){const l=t.on("change",f=>e.set(fi(f,a))),h=e.on("destroy",l);return()=>{l(),h()}}return c}function fi(e,t){return t?e+t:e}function di(e){return typeof e=="number"?e:parseFloat(e)}const yl=[...Zo,G,Pe],vl=e=>yl.find(No(e)),St=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function pi(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function bl(...e){return t=>{let n=!1;const s=e.map(i=>{const o=pi(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<s.length;i++){const o=s[i];typeof o=="function"?o():pi(e[i],null)}}}}function wl(...e){return E.useCallback(bl(...e),e)}class xl extends E.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=Ko(s)&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _l({children:e,isPresent:t,anchorX:n,root:s}){const i=E.useId(),o=E.useRef(null),r=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=E.useContext(St),c=e.props?.ref??e?.ref,u=wl(o,c);return E.useInsertionEffect(()=>{const{width:l,height:h,top:f,left:d,right:p}=r.current;if(t||!o.current||!l||!h)return;const m=n==="left"?`left: ${d}`:`right: ${p}`;o.current.dataset.motionPopId=i;const g=document.createElement("style");a&&(g.nonce=a);const y=s??document.head;return y.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${h}px !important;
            ${m}px !important;
            top: ${f}px !important;
          }
        `),()=>{y.contains(g)&&y.removeChild(g)}},[t]),ve.jsx(xl,{isPresent:t,childRef:o,sizeRef:r,children:E.cloneElement(e,{ref:u})})}const Tl=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:r,anchorX:a,root:c})=>{const u=wt(Sl),l=E.useId();let h=!0,f=E.useMemo(()=>(h=!1,{id:l,initial:t,isPresent:n,custom:i,onExitComplete:d=>{u.set(d,!0);for(const p of u.values())if(!p)return;s&&s()},register:d=>(u.set(d,!1),()=>u.delete(d))}),[n,u,s]);return o&&h&&(f={...f}),E.useMemo(()=>{u.forEach((d,p)=>u.set(p,!1))},[n]),E.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),r==="popLayout"&&(e=ve.jsx(_l,{isPresent:n,anchorX:a,root:c,children:e})),ve.jsx(Yt.Provider,{value:f,children:e})};function Sl(){return new Map}function Qo(e=!0){const t=E.useContext(Yt);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,o=E.useId();E.useEffect(()=>{if(e)return i(o)},[e]);const r=E.useCallback(()=>e&&s&&s(o),[o,s,e]);return!n&&s?[!1,r]:[!0]}const Ct=e=>e.key||"";function mi(e){const t=[];return E.Children.forEach(e,n=>{E.isValidElement(n)&&t.push(n)}),t}const x1=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync",propagate:r=!1,anchorX:a="left",root:c})=>{const[u,l]=Qo(r),h=E.useMemo(()=>mi(e),[e]),f=r&&!u?[]:h.map(Ct),d=E.useRef(!0),p=E.useRef(h),m=wt(()=>new Map),g=E.useRef(new Set),[y,S]=E.useState(h),[b,_]=E.useState(h);hs(()=>{d.current=!1,p.current=h;for(let A=0;A<b.length;A++){const T=Ct(b[A]);f.includes(T)?(m.delete(T),g.current.delete(T)):m.get(T)!==!0&&m.set(T,!1)}},[b,f.length,f.join("-")]);const v=[];if(h!==y){let A=[...h];for(let T=0;T<b.length;T++){const k=b[T],M=Ct(k);f.includes(M)||(A.splice(T,0,k),v.push(k))}return o==="wait"&&v.length&&(A=v),_(mi(A)),S(h),null}const{forceRender:w}=E.useContext(us);return ve.jsx(ve.Fragment,{children:b.map(A=>{const T=Ct(A),k=r&&!u?!1:h===b||f.includes(T),M=()=>{if(g.current.has(T))return;if(g.current.add(T),m.has(T))m.set(T,!0);else return;let D=!0;m.forEach(O=>{O||(D=!1)}),D&&(w?.(),_(p.current),r&&l?.(),s&&s())};return ve.jsx(Tl,{isPresent:k,initial:!d.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,root:c,onExitComplete:k?void 0:M,anchorX:a,children:A},T)})})},ea=E.createContext({strict:!1}),gi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ye={};for(const e in gi)Ye[e]={isEnabled:t=>gi[e].some(n=>!!t[n])};function Al(e){for(const t in e)Ye[t]={...Ye[t],...e[t]}}const El=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bt(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||El.has(e)}let ta=e=>!Bt(e);function Pl(e){typeof e=="function"&&(ta=t=>t.startsWith("on")?!Bt(t):e(t))}try{Pl(require("@emotion/is-prop-valid").default)}catch{}function kl(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(ta(i)||n===!0&&Bt(i)||!t&&!Bt(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const Qt=E.createContext({});function en(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function gt(e){return typeof e=="string"||Array.isArray(e)}const zs=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Os=["initial",...zs];function tn(e){return en(e.animate)||Os.some(t=>gt(e[t]))}function na(e){return!!(tn(e)||e.variants)}function Cl(e,t){if(tn(e)){const{initial:n,animate:s}=e;return{initial:n===!1||gt(n)?n:void 0,animate:gt(s)?s:void 0}}return e.inherit!==!1?t:{}}function Ml(e){const{initial:t,animate:n}=Cl(e,E.useContext(Qt));return E.useMemo(()=>({initial:t,animate:n}),[yi(t),yi(n)])}function yi(e){return Array.isArray(e)?e.join(" "):e}function vi(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const st={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(P.test(e))e=parseFloat(e);else return e;const n=vi(e,t.target.x),s=vi(e,t.target.y);return`${n}% ${s}%`}},zl={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=Pe.parse(e);if(i.length>5)return s;const o=Pe.createTransformer(e),r=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;i[0+r]/=a,i[1+r]/=c;const u=N(a,c,.5);return typeof i[2+r]=="number"&&(i[2+r]/=u),typeof i[3+r]=="number"&&(i[3+r]/=u),o(i)}},qn={borderRadius:{...st,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomLeftRadius:st,borderBottomRightRadius:st,boxShadow:zl};function sa(e,{layout:t,layoutId:n}){return et.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!qn[e]||e==="opacity")}const Ol={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Dl=Qe.length;function Vl(e,t,n){let s="",i=!0;for(let o=0;o<Dl;o++){const r=Qe[o],a=e[r];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(r.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=Go(a,ks[r]);if(!c){i=!1;const l=Ol[r]||r;s+=`${l}(${u}) `}n&&(t[r]=u)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function Ds(e,t,n){const{style:s,vars:i,transformOrigin:o}=e;let r=!1,a=!1;for(const c in t){const u=t[c];if(et.has(c)){r=!0;continue}else if(xo(c)){i[c]=u;continue}else{const l=Go(u,ks[c]);c.startsWith("origin")?(a=!0,o[c]=l):s[c]=l}}if(t.transform||(r||n?s.transform=Vl(t,e.transform,n):s.transform&&(s.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:l=0}=o;s.transformOrigin=`${c} ${u} ${l}`}}const Vs=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ia(e,t,n){for(const s in t)!X(t[s])&&!sa(s,n)&&(e[s]=t[s])}function Rl({transformTemplate:e},t){return E.useMemo(()=>{const n=Vs();return Ds(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Il(e,t){const n=e.style||{},s={};return ia(s,n,e),Object.assign(s,Rl(e,t)),s}function $l(e,t){const n={},s=Il(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Ll={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fl={offset:"strokeDashoffset",array:"strokeDasharray"};function jl(e,t,n=1,s=0,i=!0){e.pathLength=1;const o=i?Ll:Fl;e[o.offset]=P.transform(-s);const r=P.transform(t),a=P.transform(n);e[o.array]=`${r} ${a}`}const Nl=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function ra(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:o=1,pathOffset:r=0,...a},c,u,l){if(Ds(e,a,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=l?.transformBox??"fill-box",delete h.transformBox);for(const d of Nl)h[d]!==void 0&&(f[d]=h[d],delete h[d]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),i!==void 0&&jl(h,i,o,r,!1)}const oa=()=>({...Vs(),attrs:{}}),aa=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Zl(e,t,n,s){const i=E.useMemo(()=>{const o=oa();return ra(o,t,aa(s),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};ia(o,e.style,e),i.style={...o,...i.style}}return i}const Bl=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rs(e){return typeof e!="string"||e.includes("-")?!1:!!(Bl.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ul(e,t,n,{latestValues:s},i,o=!1,r){const c=(r??Rs(e)?Zl:$l)(t,s,i,e),u=kl(t,typeof e=="string",o),l=e!==E.Fragment?{...u,...c,ref:n}:{},{children:h}=t,f=E.useMemo(()=>X(h)?h.get():h,[h]);return E.createElement(e,{...l,children:f})}function bi(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Is(e,t,n,s){if(typeof t=="function"){const[i,o]=bi(s);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=bi(s);t=t(n!==void 0?n:e.custom,i,o)}return t}function $t(e){return X(e)?e.get():e}function Wl({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:Gl(n,s,i,e),renderState:t()}}function Gl(e,t,n,s){const i={},o=s(e,{});for(const f in o)i[f]=$t(o[f]);let{initial:r,animate:a}=e;const c=tn(e),u=na(e);t&&u&&!c&&e.inherit!==!1&&(r===void 0&&(r=t.initial),a===void 0&&(a=t.animate));let l=n?n.initial===!1:!1;l=l||r===!1;const h=l?a:r;if(h&&typeof h!="boolean"&&!en(h)){const f=Array.isArray(h)?h:[h];for(let d=0;d<f.length;d++){const p=Is(e,f[d]);if(p){const{transitionEnd:m,transition:g,...y}=p;for(const S in y){let b=y[S];if(Array.isArray(b)){const _=l?b.length-1:0;b=b[_]}b!==null&&(i[S]=b)}for(const S in m)i[S]=m[S]}}}return i}const ca=e=>(t,n)=>{const s=E.useContext(Qt),i=E.useContext(Yt),o=()=>Wl(e,t,s,i);return n?o():wt(o)};function $s(e,t,n){const{style:s}=e,i={};for(const o in s)(X(s[o])||t.style&&X(t.style[o])||sa(o,e)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=s[o]);return i}const Kl=ca({scrapeMotionValuesFromProps:$s,createRenderState:Vs});function ua(e,t,n){const s=$s(e,t,n);for(const i in e)if(X(e[i])||X(t[i])){const o=Qe.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[o]=e[i]}return s}const ql=ca({scrapeMotionValuesFromProps:ua,createRenderState:oa}),Hl=Symbol.for("motionComponentSymbol");function Xl(e,t,n){const s=E.useRef(n);E.useInsertionEffect(()=>{s.current=n});const i=E.useRef(null);return E.useCallback(o=>{o&&e.onMount?.(o),t&&(o?t.mount(o):t.unmount());const r=s.current;if(typeof r=="function")if(o){const a=r(o);typeof a=="function"&&(i.current=a)}else i.current?(i.current(),i.current=null):r(o);else r&&(r.current=o)},[t])}const Ls=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Yl="framerAppearId",la="data-"+Ls(Yl),ha=E.createContext({});function rt(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Jl(e,t,n,s,i,o){const{visualElement:r}=E.useContext(Qt),a=E.useContext(ea),c=E.useContext(Yt),u=E.useContext(St).reducedMotion,l=E.useRef(null);s=s||a.renderer,!l.current&&s&&(l.current=s(e,{visualState:t,parent:r,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,isSVG:o}));const h=l.current,f=E.useContext(ha);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&Ql(l.current,n,i,f);const d=E.useRef(!1);E.useInsertionEffect(()=>{h&&d.current&&h.update(n,c)});const p=n[la],m=E.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return hs(()=>{h&&(d.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),m.current&&h.animationState&&h.animationState.animateChanges())}),E.useEffect(()=>{h&&(!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),m.current=!1),h.enteringChildren=void 0)}),h}function Ql(e,t,n,s){const{layoutId:i,layout:o,drag:r,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:l}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:fa(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!r||a&&rt(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:l,layoutScroll:c,layoutRoot:u})}function fa(e){if(e)return e.options.allowProjection!==!1?e.projection:fa(e.parent)}function bn(e,{forwardMotionProps:t=!1,type:n}={},s,i){s&&Al(s);const o=n?n==="svg":Rs(e),r=o?ql:Kl;function a(u,l){let h;const f={...E.useContext(St),...u,layoutId:eh(u)},{isStatic:d}=f,p=Ml(u),m=r(u,d);if(!d&&ls){th();const g=nh(f);h=g.MeasureLayout,p.visualElement=Jl(e,m,f,i,g.ProjectionNode,o)}return ve.jsxs(Qt.Provider,{value:p,children:[h&&p.visualElement?ve.jsx(h,{visualElement:p.visualElement,...f}):null,Ul(e,u,Xl(m,p.visualElement,l),m,d,t,o)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=E.forwardRef(a);return c[Hl]=e,c}function eh({layoutId:e}){const t=E.useContext(us).id;return t&&e!==void 0?t+"-"+e:e}function th(e,t){E.useContext(ea).strict}function nh(e){const{drag:t,layout:n}=Ye;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function sh(e,t){if(typeof Proxy>"u")return bn;const n=new Map,s=(o,r)=>bn(o,r,e,t),i=(o,r)=>s(o,r);return new Proxy(i,{get:(o,r)=>r==="create"?s:(n.has(r)||n.set(r,bn(r,void 0,e,t)),n.get(r))})}function da({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function ih({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function rh(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function wn(e){return e===void 0||e===1}function Hn({scale:e,scaleX:t,scaleY:n}){return!wn(e)||!wn(t)||!wn(n)}function Ve(e){return Hn(e)||pa(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function pa(e){return wi(e.x)||wi(e.y)}function wi(e){return e&&e!=="0%"}function Ut(e,t,n){const s=e-n,i=t*s;return n+i}function xi(e,t,n,s,i){return i!==void 0&&(e=Ut(e,i,s)),Ut(e,n,s)+t}function Xn(e,t=0,n=1,s,i){e.min=xi(e.min,t,n,s,i),e.max=xi(e.max,t,n,s,i)}function ma(e,{x:t,y:n}){Xn(e.x,t.translate,t.scale,t.originPoint),Xn(e.y,n.translate,n.scale,n.originPoint)}const _i=.999999999999,Ti=1.0000000000001;function oh(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,r;for(let a=0;a<i;a++){o=n[a],r=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ge(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,ma(e,r)),s&&Ve(o.latestValues)&&Ge(e,o.latestValues))}t.x<Ti&&t.x>_i&&(t.x=1),t.y<Ti&&t.y>_i&&(t.y=1)}function We(e,t){e.min=e.min+t,e.max=e.max+t}function Si(e,t,n,s,i=.5){const o=N(e.min,e.max,i);Xn(e,t,n,o,s)}function Ge(e,t){Si(e.x,t.x,t.scaleX,t.scale,t.originX),Si(e.y,t.y,t.scaleY,t.scale,t.originY)}function ga(e,t){return da(rh(e.getBoundingClientRect(),t))}function ah(e,t,n){const s=ga(e,n),{scroll:i}=t;return i&&(We(s.x,i.offset.x),We(s.y,i.offset.y)),s}const Ai=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ke=()=>({x:Ai(),y:Ai()}),Ei=()=>({min:0,max:0}),K=()=>({x:Ei(),y:Ei()}),Yn={current:null},ya={current:!1};function ch(){if(ya.current=!0,!!ls)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Yn.current=e.matches;e.addEventListener("change",t),t()}else Yn.current=!1}const uh=new WeakMap;function lh(e,t,n){for(const s in t){const i=t[s],o=n[s];if(X(i))e.addValue(s,i);else if(X(o))e.addValue(s,Fe(i,{owner:e}));else if(o!==i)if(e.hasValue(s)){const r=e.getValue(s);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=e.getStaticValue(s);e.addValue(s,Fe(r!==void 0?r:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Pi=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hh{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:o,visualState:r},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Es,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=te.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,L.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=r;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=tn(n),this.isVariantNode=na(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:l,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const d=h[f];c[f]!==void 0&&X(d)&&d.set(c[f])}}mount(t){this.current=t,uh.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(ya.current||ch(),this.shouldReduceMotion=Yn.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xe(this.notifyUpdate),xe(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=et.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",r=>{this.latestValues[t]=r,this.props.onUpdate&&L.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ye){const n=Ye[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):K()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Pi.length;s++){const i=Pi[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,r=t[o];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=lh(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Fe(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(io(s)||oo(s))?s=parseFloat(s):!vl(s)&&Pe.test(n)&&(s=Uo(t,n)),this.setBaseTarget(t,X(s)?s.get():s)),X(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=Is(this.props,n,this.presenceContext?.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!X(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new gs),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Cs.render(this.render)}}class va extends hh{constructor(){super(...arguments),this.KeyframeResolver=ol}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;X(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ba(e,{style:t,vars:n},s,i){const o=e.style;let r;for(r in t)o[r]=t[r];i?.applyProjectionStyles(o,s);for(r in n)o.setProperty(r,n[r])}function fh(e){return window.getComputedStyle(e)}class dh extends va{constructor(){super(...arguments),this.type="html",this.renderInstance=ba}readValueFromInstance(t,n){if(et.has(n))return this.projection?.isProjecting?Nn(n):Au(t,n);{const s=fh(t),i=(xo(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return ga(t,n)}build(t,n,s){Ds(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return $s(t,n,s)}}const wa=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ph(e,t,n,s){ba(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(wa.has(i)?i:Ls(i),t.attrs[i])}class mh extends va{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=K}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(et.has(n)){const s=Bo(n);return s&&s.default||0}return n=wa.has(n)?n:Ls(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return ua(t,n,s)}build(t,n,s){ra(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){ph(t,n,s,i)}mount(t){this.isSVGTag=aa(t.tagName),super.mount(t)}}const gh=(e,t)=>t.isSVG??Rs(e)?new mh(t):new dh(t,{allowProjection:e!==E.Fragment});function He(e,t,n){const s=e.getProps();return Is(s,t,n!==void 0?n:s.custom,e)}const Jn=e=>Array.isArray(e);function yh(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Fe(n))}function vh(e){return Jn(e)?e[e.length-1]||0:e}function bh(e,t){const n=He(e,t);let{transitionEnd:s={},transition:i={},...o}=n||{};o={...o,...s};for(const r in o){const a=vh(o[r]);yh(e,r,a)}}function wh(e){return!!(X(e)&&e.add)}function Qn(e,t){const n=e.getValue("willChange");if(wh(n))return n.add(t);if(!n&&we.WillChange){const s=new we.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function xa(e){return e.props[la]}const xh=e=>e!==null;function _h(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(xh),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[o]}const Th={type:"spring",stiffness:500,damping:25,restSpeed:10},Sh=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ah={type:"keyframes",duration:.8},Eh={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ph=(e,{keyframes:t})=>t.length>2?Ah:et.has(e)?e.startsWith("scale")?Sh(t[1]):Th:Eh;function kh({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:r,repeatDelay:a,from:c,elapsed:u,...l}){return!!Object.keys(l).length}const Fs=(e,t,n,s={},i,o)=>r=>{const a=Ps(s,e)||{},c=a.delay||s.delay||0;let{elapsed:u=0}=s;u=u-be(c);const l={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{r(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};kh(a)||Object.assign(l,Ph(e,l)),l.duration&&(l.duration=be(l.duration)),l.repeatDelay&&(l.repeatDelay=be(l.repeatDelay)),l.from!==void 0&&(l.keyframes[0]=l.from);let h=!1;if((l.type===!1||l.duration===0&&!l.repeatDelay)&&(Gn(l),l.delay===0&&(h=!0)),(we.instantAnimations||we.skipAnimations)&&(h=!0,Gn(l),l.delay=0),l.allowFlatten=!a.type&&!a.ease,h&&!o&&t.get()!==void 0){const f=_h(l.keyframes,a);if(f!==void 0){L.update(()=>{l.onUpdate(f),l.onComplete()});return}}return a.isSync?new Jt(l):new qu(l)};function Ch({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function _a(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:r,...a}=t;s&&(o=s);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const l in a){const h=e.getValue(l,e.latestValues[l]??null),f=a[l];if(f===void 0||u&&Ch(u,l))continue;const d={delay:n,...Ps(o||{},l)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===p&&!d.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=xa(e);if(y){const S=window.MotionHandoffAnimation(y,l,L);S!==null&&(d.startTime=S,m=!0)}}Qn(e,l),h.start(Fs(l,h,f,e.shouldReduceMotion&&jo.has(l)?{type:!1}:d,e,m));const g=h.animation;g&&c.push(g)}return r&&Promise.all(c).then(()=>{L.update(()=>{r&&bh(e,r)})}),c}function Ta(e,t,n,s=0,i=1){const o=Array.from(e).sort((u,l)=>u.sortNodePosition(l)).indexOf(t),r=e.size,a=(r-1)*s;return typeof n=="function"?n(o,r):i===1?o*s:a-o*s}function es(e,t,n={}){const s=He(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(_a(e,s,n)):()=>Promise.resolve(),r=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:l,staggerDirection:h}=i;return Mh(e,t,c,u,l,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[o,r]:[r,o];return c().then(()=>u())}else return Promise.all([o(),r(n.delay)])}function Mh(e,t,n=0,s=0,i=0,o=1,r){const a=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),a.push(es(c,t,{...r,delay:n+(typeof s=="function"?0:s)+Ta(e.variantChildren,c,s,i,o)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(a)}function zh(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(o=>es(e,o,n));s=Promise.all(i)}else if(typeof t=="string")s=es(e,t,n);else{const i=typeof t=="function"?He(e,t,n.custom):t;s=Promise.all(_a(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function Sa(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Oh=Os.length;function Aa(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Aa(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Oh;n++){const s=Os[n],i=e.props[s];(gt(i)||i===!1)&&(t[s]=i)}return t}const Dh=[...zs].reverse(),Vh=zs.length;function Rh(e){return t=>Promise.all(t.map(({animation:n,options:s})=>zh(e,n,s)))}function Ih(e){let t=Rh(e),n=ki(),s=!0;const i=c=>(u,l)=>{const h=He(e,l,c==="exit"?e.presenceContext?.custom:void 0);if(h){const{transition:f,transitionEnd:d,...p}=h;u={...u,...p,...d}}return u};function o(c){t=c(e)}function r(c){const{props:u}=e,l=Aa(e.parent)||{},h=[],f=new Set;let d={},p=1/0;for(let g=0;g<Vh;g++){const y=Dh[g],S=n[y],b=u[y]!==void 0?u[y]:l[y],_=gt(b),v=y===c?S.isActive:null;v===!1&&(p=g);let w=b===l[y]&&b!==u[y]&&_;if(w&&s&&e.manuallyAnimateOnMount&&(w=!1),S.protectedKeys={...d},!S.isActive&&v===null||!b&&!S.prevProp||en(b)||typeof b=="boolean")continue;const A=$h(S.prevProp,b);let T=A||y===c&&S.isActive&&!w&&_||g>p&&_,k=!1;const M=Array.isArray(b)?b:[b];let D=M.reduce(i(y),{});v===!1&&(D={});const{prevResolvedValues:O={}}=S,V={...O,...D},C=$=>{T=!0,f.has($)&&(k=!0,f.delete($)),S.needsAnimating[$]=!0;const W=e.getValue($);W&&(W.liveStyle=!1)};for(const $ in V){const W=D[$],ie=O[$];if(d.hasOwnProperty($))continue;let fe=!1;Jn(W)&&Jn(ie)?fe=!Sa(W,ie):fe=W!==ie,fe?W!=null?C($):f.add($):W!==void 0&&f.has($)?C($):S.protectedKeys[$]=!0}S.prevProp=b,S.prevResolvedValues=D,S.isActive&&(d={...d,...D}),s&&e.blockInitialAnimation&&(T=!1);const Y=w&&A;T&&(!Y||k)&&h.push(...M.map($=>{const W={type:y};if(typeof $=="string"&&s&&!Y&&e.manuallyAnimateOnMount&&e.parent){const{parent:ie}=e,fe=He(ie,$);if(ie.enteringChildren&&fe){const{delayChildren:Be}=fe.transition||{};W.delay=Ta(ie.enteringChildren,e,Be)}}return{animation:$,options:W}}))}if(f.size){const g={};if(typeof u.initial!="boolean"){const y=He(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(g.transition=y.transition)}f.forEach(y=>{const S=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),g[y]=S??null}),h.push({animation:g})}let m=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),s=!1,m?t(h):Promise.resolve()}function a(c,u){if(n[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(h=>h.animationState?.setActive(c,u)),n[c].isActive=u;const l=r(c);for(const h in n)n[h].protectedKeys={};return l}return{animateChanges:r,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=ki()}}}function $h(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Sa(t,e):!1}function De(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ki(){return{animate:De(!0),whileInView:De(),whileHover:De(),whileTap:De(),whileDrag:De(),whileFocus:De(),exit:De()}}class ke{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Lh extends ke{constructor(t){super(t),t.animationState||(t.animationState=Ih(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();en(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Fh=0;class jh extends ke{constructor(){super(...arguments),this.id=Fh++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Nh={animation:{Feature:Lh},exit:{Feature:jh}};function yt(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function At(e){return{point:{x:e.pageX,y:e.pageY}}}const Zh=e=>t=>Ms(t)&&e(t,At(t));function lt(e,t,n,s){return yt(e,t,Zh(n),s)}const Ea=1e-4,Bh=1-Ea,Uh=1+Ea,Pa=.01,Wh=0-Pa,Gh=0+Pa;function ne(e){return e.max-e.min}function Kh(e,t,n){return Math.abs(e-t)<=n}function Ci(e,t,n,s=.5){e.origin=s,e.originPoint=N(t.min,t.max,e.origin),e.scale=ne(n)/ne(t),e.translate=N(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Bh&&e.scale<=Uh||isNaN(e.scale))&&(e.scale=1),(e.translate>=Wh&&e.translate<=Gh||isNaN(e.translate))&&(e.translate=0)}function ht(e,t,n,s){Ci(e.x,t.x,n.x,s?s.originX:void 0),Ci(e.y,t.y,n.y,s?s.originY:void 0)}function Mi(e,t,n){e.min=n.min+t.min,e.max=e.min+ne(t)}function qh(e,t,n){Mi(e.x,t.x,n.x),Mi(e.y,t.y,n.y)}function zi(e,t,n){e.min=t.min-n.min,e.max=e.min+ne(t)}function Wt(e,t,n){zi(e.x,t.x,n.x),zi(e.y,t.y,n.y)}function re(e){return[e("x"),e("y")]}const ka=({current:e})=>e?e.ownerDocument.defaultView:null,Oi=(e,t)=>Math.abs(e-t);function Hh(e,t){const n=Oi(e.x,t.x),s=Oi(e.y,t.y);return Math.sqrt(n**2+s**2)}class Ca{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:r=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=_n(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=Hh(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!d&&!p)return;const{point:m}=f,{timestamp:g}=J;this.history.push({...m,timestamp:g});const{onStart:y,onMove:S}=this.handlers;d||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=xn(d,this.transformPagePoint),L.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=_n(f.type==="pointercancel"?this.lastMoveEventInfo:xn(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),m&&m(f,y)},!Ms(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=r,this.contextWindow=i||window;const a=At(t),c=xn(a,this.transformPagePoint),{point:u}=c,{timestamp:l}=J;this.history=[{...u,timestamp:l}];const{onSessionStart:h}=n;h&&h(t,_n(c,this.history)),this.removeListeners=xt(lt(this.contextWindow,"pointermove",this.handlePointerMove),lt(this.contextWindow,"pointerup",this.handlePointerUp),lt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xe(this.updatePoint)}}function xn(e,t){return t?{point:t(e.point)}:e}function Di(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _n({point:e},t){return{point:e,delta:Di(e,Ma(t)),offset:Di(e,Xh(t)),velocity:Yh(t,.1)}}function Xh(e){return e[0]}function Ma(e){return e[e.length-1]}function Yh(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=Ma(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>be(t)));)n--;if(!s)return{x:0,y:0};const o=oe(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const r={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function Jh(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?N(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?N(n,e,s.max):Math.min(e,n)),e}function Vi(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Qh(e,{top:t,left:n,bottom:s,right:i}){return{x:Vi(e.x,n,i),y:Vi(e.y,t,s)}}function Ri(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function ef(e,t){return{x:Ri(e.x,t.x),y:Ri(e.y,t.y)}}function tf(e,t){let n=.5;const s=ne(e),i=ne(t);return i>s?n=dt(t.min,t.max-s,e.min):s>i&&(n=dt(e.min,e.max-i,t.min)),pe(0,1,n)}function nf(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ts=.35;function sf(e=ts){return e===!1?e=0:e===!0&&(e=ts),{x:Ii(e,"left","right"),y:Ii(e,"top","bottom")}}function Ii(e,t,n){return{min:$i(e,t),max:$i(e,n)}}function $i(e,t){return typeof e=="number"?e:e[t]||0}const rf=new WeakMap;class of{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=K(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=h=>{n?(this.stopAnimation(),this.snapToCursor(At(h).point)):this.pauseAnimation()},r=(h,f)=>{this.stopAnimation();const{drag:d,dragPropagation:p,onDragStart:m}=this.getProps();if(d&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ul(d),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),re(y=>{let S=this.getAxisMotionValue(y).get()||0;if(de.test(S)){const{projection:b}=this.visualElement;if(b&&b.layout){const _=b.layout.layoutBox[y];_&&(S=ne(_)*(parseFloat(S)/100))}}this.originPoint[y]=S}),m&&L.postRender(()=>m(h,f)),Qn(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=af(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>re(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:l}=this.getProps();this.panSession=new Ca(t,{onSessionStart:o,onStart:r,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,distanceThreshold:s,contextWindow:ka(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!s)return;const{velocity:r}=i;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&L.postRender(()=>a(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!Mt(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let r=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(r=Jh(r,this.constraints[t],this.elastic[t])),o.set(r)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&rt(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=Qh(s.layoutBox,t):this.constraints=!1,this.elastic=sf(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&re(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=nf(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!rt(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=ah(s,i.root,this.visualElement.getTransformPagePoint());let r=ef(i.layout.layoutBox,o);if(n){const a=n(ih(r));this.hasMutatedConstraints=!!a,a&&(r=da(a))}return r}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=re(l=>{if(!Mt(l,n,this.currentDirection))return;let h=c&&c[l]||{};r&&(h={min:0,max:0});const f=i?200:1e6,d=i?40:1e7,p={type:"inertia",velocity:s?t[l]:0,bounceStiffness:f,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(l,p)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Qn(this.visualElement,t),s.start(Fs(t,s,0,n,this.visualElement,!1))}stopAnimation(){re(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){re(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){re(n=>{const{drag:s}=this.getProps();if(!Mt(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:r,max:a}=i.layout.layoutBox[n],c=o.get()||0;o.set(t[n]-N(r,a,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!rt(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};re(r=>{const a=this.getAxisMotionValue(r);if(a&&this.constraints!==!1){const c=a.get();i[r]=tf({min:c,max:c},this.constraints[r])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),re(r=>{if(!Mt(r,t,null))return;const a=this.getAxisMotionValue(r),{min:c,max:u}=this.constraints[r];a.set(N(c,u,i[r]))})}addListeners(){if(!this.visualElement.current)return;rf.set(this.visualElement,this);const t=this.visualElement.current,n=lt(t,"pointerdown",c=>{const{drag:u,dragListener:l=!0}=this.getProps();u&&l&&!Yo(c.target)&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();rt(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),L.read(s);const r=yt(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(re(l=>{const h=this.getAxisMotionValue(l);h&&(this.originPoint[l]+=c[l].translate,h.set(h.get()+c[l].translate))}),this.visualElement.render())}));return()=>{r(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:r=ts,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:r,dragMomentum:a}}}function Mt(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function af(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class cf extends ke{constructor(t){super(t),this.removeGroupControls=ae,this.removeListeners=ae,this.controls=new of(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ae}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Li=e=>(t,n)=>{e&&L.postRender(()=>e(t,n))};class uf extends ke{constructor(){super(...arguments),this.removePointerDownListener=ae}onPointerDown(t){this.session=new Ca(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ka(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Li(t),onStart:Li(n),onMove:s,onEnd:(o,r)=>{delete this.session,i&&L.postRender(()=>i(o,r))}}}mount(){this.removePointerDownListener=lt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Tn=!1;class lf extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),Tn&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Lt.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,{projection:r}=s;return r&&(r.isPresent=o,Tn=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?r.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?r.promote():r.relegate()||L.postRender(()=>{const a=r.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Cs.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;Tn=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function za(e){const[t,n]=Qo(),s=E.useContext(us);return ve.jsx(lf,{...e,layoutGroup:s,switchLayoutGroup:E.useContext(ha),isPresent:t,safeToRemove:n})}function hf(e,t,n){const s=X(e)?e:Fe(e);return s.start(Fs("",s,t,n)),s.animation}const ff=(e,t)=>e.depth-t.depth;class df{constructor(){this.children=[],this.isDirty=!1}add(t){fs(this.children,t),this.isDirty=!0}remove(t){ds(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ff),this.isDirty=!1,this.children.forEach(t)}}function pf(e,t){const n=te.now(),s=({timestamp:i})=>{const o=i-n;o>=t&&(xe(s),e(o-t))};return L.setup(s,!0),()=>xe(s)}const Oa=["TopLeft","TopRight","BottomLeft","BottomRight"],mf=Oa.length,Fi=e=>typeof e=="string"?parseFloat(e):e,ji=e=>typeof e=="number"||P.test(e);function gf(e,t,n,s,i,o){i?(e.opacity=N(0,n.opacity??1,yf(s)),e.opacityExit=N(t.opacity??1,0,vf(s))):o&&(e.opacity=N(t.opacity??1,n.opacity??1,s));for(let r=0;r<mf;r++){const a=`border${Oa[r]}Radius`;let c=Ni(t,a),u=Ni(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||ji(c)===ji(u)?(e[a]=Math.max(N(Fi(c),Fi(u),s),0),(de.test(u)||de.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=N(t.rotate||0,n.rotate||0,s))}function Ni(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const yf=Da(0,.5,mo),vf=Da(.5,.95,ae);function Da(e,t,n){return s=>s<e?0:s>t?1:n(dt(e,t,s))}function Zi(e,t){e.min=t.min,e.max=t.max}function ue(e,t){Zi(e.x,t.x),Zi(e.y,t.y)}function Bi(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ui(e,t,n,s,i){return e-=t,e=Ut(e,1/n,s),i!==void 0&&(e=Ut(e,1/i,s)),e}function bf(e,t=0,n=1,s=.5,i,o=e,r=e){if(de.test(t)&&(t=parseFloat(t),t=N(r.min,r.max,t/100)-r.min),typeof t!="number")return;let a=N(o.min,o.max,s);e===o&&(a-=t),e.min=Ui(e.min,t,n,a,i),e.max=Ui(e.max,t,n,a,i)}function Wi(e,t,[n,s,i],o,r){bf(e,t[n],t[s],t[i],t.scale,o,r)}const wf=["x","scaleX","originX"],xf=["y","scaleY","originY"];function Gi(e,t,n,s){Wi(e.x,t,wf,n?n.x:void 0,s?s.x:void 0),Wi(e.y,t,xf,n?n.y:void 0,s?s.y:void 0)}function Ki(e){return e.translate===0&&e.scale===1}function Va(e){return Ki(e.x)&&Ki(e.y)}function qi(e,t){return e.min===t.min&&e.max===t.max}function _f(e,t){return qi(e.x,t.x)&&qi(e.y,t.y)}function Hi(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ra(e,t){return Hi(e.x,t.x)&&Hi(e.y,t.y)}function Xi(e){return ne(e.x)/ne(e.y)}function Yi(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Tf{constructor(){this.members=[]}add(t){fs(this.members,t),t.scheduleRender()}remove(t){if(ds(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Sf(e,t,n){let s="";const i=e.x.translate/t.x,o=e.y.translate/t.y,r=n?.z||0;if((i||o||r)&&(s=`translate3d(${i}px, ${o}px, ${r}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:l,rotateX:h,rotateY:f,skewX:d,skewY:p}=n;u&&(s=`perspective(${u}px) ${s}`),l&&(s+=`rotate(${l}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),d&&(s+=`skewX(${d}deg) `),p&&(s+=`skewY(${p}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(s+=`scale(${a}, ${c})`),s||"none"}const Sn=["","X","Y","Z"],Af=1e3;let Ef=0;function An(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Ia(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=xa(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",L,!(i||o))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Ia(s)}function $a({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(r={},a=t?.()){this.id=Ef++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Cf),this.nodes.forEach(Df),this.nodes.forEach(Vf),this.nodes.forEach(Mf)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new df)}addEventListener(r,a){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new gs),this.eventHandlers.get(r).add(a)}notifyListeners(r,...a){const c=this.eventHandlers.get(r);c&&c.notify(...a)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=Jo(r)&&!pl(r),this.instance=r;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),e){let l,h=0;const f=()=>this.root.updateBlockedByResize=!1;L.read(()=>{h=window.innerWidth}),e(r,()=>{const d=window.innerWidth;d!==h&&(h=d,this.root.updateBlockedByResize=!0,l&&l(),l=pf(f,250),Lt.hasAnimatedSinceResize&&(Lt.hasAnimatedSinceResize=!1,this.nodes.forEach(er)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||Ff,{onLayoutAnimationStart:m,onLayoutAnimationComplete:g}=u.getProps(),y=!this.targetLayout||!Ra(this.targetLayout,d),S=!h&&f;if(this.options.layoutRoot||this.resumeFrom||S||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...Ps(p,"layout"),onPlay:m,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(l,S)}else h||er(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Rf),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ia(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let l=0;l<this.path.length;l++){const h=this.path[l];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ji);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Qi);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Of),this.nodes.forEach(Pf),this.nodes.forEach(kf)):this.nodes.forEach(Qi),this.clearAllSnapshots();const a=te.now();J.delta=pe(0,1e3/60,a-J.timestamp),J.timestamp=a,J.isProcessing=!0,fn.update.process(J),fn.preRender.process(J),fn.render.process(J),J.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cs.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zf),this.sharedNodes.forEach(If)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,L.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){L.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ne(this.snapshot.measuredBox.x)&&!ne(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=K(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(a=!1),a&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Va(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,l=u!==this.prevTransformTemplateValue;r&&this.instance&&(a||Ve(this.latestValues)||l)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return r&&(c=this.removeTransform(c)),jf(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:r}=this.options;if(!r)return K();const a=r.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Nf))){const{scroll:u}=this.root;u&&(We(a.x,u.offset.x),We(a.y,u.offset.y))}return a}removeElementScroll(r){const a=K();if(ue(a,r),this.scroll?.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:l,options:h}=u;u!==this.root&&l&&h.layoutScroll&&(l.wasRoot&&ue(a,r),We(a.x,l.offset.x),We(a.y,l.offset.y))}return a}applyTransform(r,a=!1){const c=K();ue(c,r);for(let u=0;u<this.path.length;u++){const l=this.path[u];!a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ge(c,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),Ve(l.latestValues)&&Ge(c,l.latestValues)}return Ve(this.latestValues)&&Ge(c,this.latestValues),c}removeTransform(r){const a=K();ue(a,r);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ve(u.latestValues))continue;Hn(u.latestValues)&&u.updateSnapshot();const l=K(),h=u.measurePageBox();ue(l,h),Gi(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,l)}return Ve(this.latestValues)&&Gi(a,this.latestValues),a}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==J.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(r||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:l,layoutId:h}=this.options;if(!this.layout||!(l||h))return;this.resolvedRelativeTargetAt=J.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=K(),this.targetWithTransforms=K()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qh(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ue(this.target,this.layout.layoutBox),ma(this.target,this.targetDelta)):ue(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Hn(this.parent.latestValues)||pa(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(r,a,c){this.relativeParent=r,this.linkedParentVersion=r.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=K(),this.relativeTargetOrigin=K(),Wt(this.relativeTargetOrigin,a,c),ue(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const r=this.getLead(),a=!!this.resumingFrom||this!==r;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===J.timestamp&&(c=!1),c)return;const{layout:u,layoutId:l}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||l))return;ue(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;oh(this.layoutCorrected,this.treeScale,this.path,a),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=K());const{target:d}=r;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bi(this.prevProjectionDelta.x,this.projectionDelta.x),Bi(this.prevProjectionDelta.y,this.projectionDelta.y)),ht(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Yi(this.projectionDelta.x,this.prevProjectionDelta.x)||!Yi(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){if(this.options.visualElement?.scheduleRender(),r){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ke(),this.projectionDelta=Ke(),this.projectionDeltaWithTransform=Ke()}setAnimationOrigin(r,a=!1){const c=this.snapshot,u=c?c.latestValues:{},l={...this.latestValues},h=Ke();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=K(),d=c?c.source:void 0,p=this.layout?this.layout.source:void 0,m=d!==p,g=this.getStack(),y=!g||g.members.length<=1,S=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(Lf));this.animationProgress=0;let b;this.mixTargetDelta=_=>{const v=_/1e3;tr(h.x,r.x,v),tr(h.y,r.y,v),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wt(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$f(this.relativeTarget,this.relativeTargetOrigin,f,v),b&&_f(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=K()),ue(b,this.relativeTarget)),m&&(this.animationValues=l,gf(l,u,this.latestValues,v,S,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=v},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(xe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=L.update(()=>{Lt.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fe(0)),this.currentAnimation=hf(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),r.onUpdate&&r.onUpdate(a)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Af),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:l}=r;if(!(!a||!c||!u)){if(this!==r&&this.layout&&u&&La(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||K();const h=ne(this.layout.layoutBox.x);c.x.min=r.target.x.min,c.x.max=c.x.min+h;const f=ne(this.layout.layoutBox.y);c.y.min=r.target.y.min,c.y.max=c.y.min+f}ue(a,c),Ge(a,l),ht(this.projectionDeltaWithTransform,this.layoutCorrected,a,l)}}registerSharedNode(r,a){this.sharedNodes.has(r)||this.sharedNodes.set(r,new Tf),this.sharedNodes.get(r).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){const{layoutId:r}=this.options;return r?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:r}=this.options;return r?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),r&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let a=!1;const{latestValues:c}=r;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&An("z",r,u,this.animationValues);for(let l=0;l<Sn.length;l++)An(`rotate${Sn[l]}`,r,u,this.animationValues),An(`skew${Sn[l]}`,r,u,this.animationValues);r.render();for(const l in u)r.setStaticValue(l,u[l]),this.animationValues&&(this.animationValues[l]=u[l]);r.scheduleRender()}applyProjectionStyles(r,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=$t(a?.pointerEvents)||"",r.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=$t(a?.pointerEvents)||""),this.hasProjected&&!Ve(this.latestValues)&&(r.transform=c?c({},""):"none",this.hasProjected=!1);return}r.visibility="";const l=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=Sf(this.projectionDeltaWithTransform,this.treeScale,l);c&&(h=c(l,h)),r.transform=h;const{x:f,y:d}=this.projectionDelta;r.transformOrigin=`${f.origin*100}% ${d.origin*100}% 0`,u.animationValues?r.opacity=u===this?l.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:l.opacityExit:r.opacity=u===this?l.opacity!==void 0?l.opacity:"":l.opacityExit!==void 0?l.opacityExit:0;for(const p in qn){if(l[p]===void 0)continue;const{correct:m,applyTo:g,isCSSVariable:y}=qn[p],S=h==="none"?l[p]:m(l[p],u);if(g){const b=g.length;for(let _=0;_<b;_++)r[g[_]]=S}else y?this.options.visualElement.renderState.vars[p]=S:r[p]=S}this.options.layoutId&&(r.pointerEvents=u===this?$t(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>r.currentAnimation?.stop()),this.root.nodes.forEach(Ji),this.root.sharedNodes.clear()}}}function Pf(e){e.updateLayout()}function kf(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?re(l=>{const h=o?t.measuredBox[l]:t.layoutBox[l],f=ne(h);h.min=n[l].min,h.max=h.min+f}):La(i,t.layoutBox,n)&&re(l=>{const h=o?t.measuredBox[l]:t.layoutBox[l],f=ne(n[l]);h.max=h.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[l].max=e.relativeTarget[l].min+f)});const r=Ke();ht(r,n,t.layoutBox);const a=Ke();o?ht(a,e.applyTransform(s,!0),t.measuredBox):ht(a,n,t.layoutBox);const c=!Va(r);let u=!1;if(!e.resumeFrom){const l=e.getClosestProjectingParent();if(l&&!l.resumeFrom){const{snapshot:h,layout:f}=l;if(h&&f){const d=K();Wt(d,t.layoutBox,h.layoutBox);const p=K();Wt(p,n,f.layoutBox),Ra(d,p)||(u=!0),l.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=d,e.relativeParent=l)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:r,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Cf(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Mf(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zf(e){e.clearSnapshot()}function Ji(e){e.clearMeasurements()}function Qi(e){e.isLayoutDirty=!1}function Of(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function er(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Df(e){e.resolveTargetDelta()}function Vf(e){e.calcProjection()}function Rf(e){e.resetSkewAndRotation()}function If(e){e.removeLeadSnapshot()}function tr(e,t,n){e.translate=N(t.translate,0,n),e.scale=N(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function nr(e,t,n,s){e.min=N(t.min,n.min,s),e.max=N(t.max,n.max,s)}function $f(e,t,n,s){nr(e.x,t.x,n.x,s),nr(e.y,t.y,n.y,s)}function Lf(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ff={duration:.45,ease:[.4,0,.1,1]},sr=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ir=sr("applewebkit/")&&!sr("chrome/")?Math.round:ae;function rr(e){e.min=ir(e.min),e.max=ir(e.max)}function jf(e){rr(e.x),rr(e.y)}function La(e,t,n){return e==="position"||e==="preserve-aspect"&&!Kh(Xi(t),Xi(n),.2)}function Nf(e){return e!==e.root&&e.scroll?.wasRoot}const Zf=$a({attachResizeListener:(e,t)=>yt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),En={current:void 0},Fa=$a({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!En.current){const e=new Zf({});e.mount(window),e.setOptions({layoutScroll:!0}),En.current=e}return En.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Bf={pan:{Feature:uf},drag:{Feature:cf,ProjectionNode:Fa,MeasureLayout:za}};function or(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=s[i];o&&L.postRender(()=>o(t,At(t)))}class Uf extends ke{mount(){const{current:t}=this.node;t&&(this.unmount=ll(t,(n,s)=>(or(this.node,s,"Start"),i=>or(this.node,i,"End"))))}unmount(){}}class Wf extends ke{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xt(yt(this.node.current,"focus",()=>this.onFocus()),yt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ar(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=s[i];o&&L.postRender(()=>o(t,At(t)))}class Gf extends ke{mount(){const{current:t}=this.node;t&&(this.unmount=dl(t,(n,s)=>(ar(this.node,s,"Start"),(i,{success:o})=>ar(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ns=new WeakMap,Pn=new WeakMap,Kf=e=>{const t=ns.get(e.target);t&&t(e)},qf=e=>{e.forEach(Kf)};function Hf({root:e,...t}){const n=e||document;Pn.has(n)||Pn.set(n,{});const s=Pn.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(qf,{root:e,...t})),s[i]}function Xf(e,t,n){const s=Hf(t);return ns.set(e,n),s.observe(e),()=>{ns.delete(e),s.unobserve(e)}}const Yf={some:0,all:1};class Jf extends ke{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=t,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Yf[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:l,onViewportLeave:h}=this.node.getProps(),f=u?l:h;f&&f(c)};return Xf(this.node.current,r,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Qf(t,n))&&this.startObserver()}unmount(){}}function Qf({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ed={inView:{Feature:Jf},tap:{Feature:Gf},focus:{Feature:Wf},hover:{Feature:Uf}},td={layout:{ProjectionNode:Fa,MeasureLayout:za}},nd={...Nh,...ed,...Bf,...td},T1=sh(nd,gh);function ja(e){const t=wt(()=>Fe(e)),{isStatic:n}=E.useContext(St);if(n){const[,s]=E.useState(e);E.useEffect(()=>t.on("change",s),[])}return t}function Na(e,t){const n=ja(t()),s=()=>n.set(t());return s(),hs(()=>{const i=()=>L.preRender(s,!1,!0),o=e.map(r=>r.on("change",i));return()=>{o.forEach(r=>r()),xe(s)}}),n}function sd(e){ut.current=[],e();const t=Na(ut.current,e);return ut.current=void 0,t}function id(e,t,n,s){if(typeof e=="function")return sd(e);const i=typeof t=="function"?t:ml(t,n,s);return Array.isArray(e)?cr(e,i):cr([e],([o])=>i(o))}function cr(e,t){const n=wt(()=>[]);return Na(e,()=>{n.length=0;const s=e.length;for(let i=0;i<s;i++)n[i]=e[i].get();return t(n)})}function S1(e,t={}){const{isStatic:n}=E.useContext(St),s=()=>X(e)?e.get():e;if(n)return id(s);const i=ja(s());return E.useInsertionEffect(()=>gl(i,e,t),[i,JSON.stringify(t)]),i}const rd={some:0,all:1};function od(e,t,{root:n,margin:s,amount:i="some"}={}){const o=Wo(e),r=new WeakMap,a=u=>{u.forEach(l=>{const h=r.get(l.target);if(l.isIntersecting!==!!h)if(l.isIntersecting){const f=t(l.target,l);typeof f=="function"?r.set(l.target,f):c.unobserve(l.target)}else typeof h=="function"&&(h(l),r.delete(l.target))})},c=new IntersectionObserver(a,{root:n,rootMargin:s,threshold:typeof i=="number"?i:rd[i]});return o.forEach(u=>c.observe(u)),()=>c.disconnect()}function A1(e,{root:t,margin:n,amount:s,once:i=!1,initial:o=!1}={}){const[r,a]=E.useState(o);return E.useEffect(()=>{if(!e.current||i&&r)return;const c=()=>(a(!0),i?void 0:()=>a(!1)),u={root:t&&t.current||void 0,margin:n,amount:s};return od(e.current,c,u)},[t,e,n,i,s]),r}function x(e,t,n){function s(a,c){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:c,constr:r,traits:new Set},enumerable:!1}),a._zod.traits.has(e))return;a._zod.traits.add(e),t(a,c);const u=r.prototype,l=Object.keys(u);for(let h=0;h<l.length;h++){const f=l[h];f in a||(a[f]=u[f].bind(a))}}const i=n?.Parent??Object;class o extends i{}Object.defineProperty(o,"name",{value:e});function r(a){var c;const u=n?.Parent?new o:this;s(u,a),(c=u._zod).deferred??(c.deferred=[]);for(const l of u._zod.deferred)l();return u}return Object.defineProperty(r,"init",{value:s}),Object.defineProperty(r,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(r,"name",{value:e}),r}class Xe extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Za extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Ba={};function je(e){return Ba}function Ua(e){const t=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,i])=>t.indexOf(+s)===-1).map(([s,i])=>i)}function ss(e,t){return typeof t=="bigint"?t.toString():t}function js(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Ns(e){return e==null}function Zs(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const ur=Symbol("evaluating");function R(e,t,n){let s;Object.defineProperty(e,t,{get(){if(s!==ur)return s===void 0&&(s=ur,s=n()),s},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Ze(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Ce(...e){const t={};for(const n of e){const s=Object.getOwnPropertyDescriptors(n);Object.assign(t,s)}return Object.defineProperties({},t)}function lr(e){return JSON.stringify(e)}function ad(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Wa="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Gt(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const cd=js(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function vt(e){if(Gt(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Gt(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Ga(e){return vt(e)?{...e}:Array.isArray(e)?[...e]:e}const ud=new Set(["string","number","symbol"]);function nn(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Me(e,t,n){const s=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(s._zod.parent=e),s}function z(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function ld(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function hd(e,t){const n=e._zod.def,s=n.checks;if(s&&s.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=Ce(e._zod.def,{get shape(){const r={};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(r[a]=n.shape[a])}return Ze(this,"shape",r),r},checks:[]});return Me(e,o)}function fd(e,t){const n=e._zod.def,s=n.checks;if(s&&s.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=Ce(e._zod.def,{get shape(){const r={...e._zod.def.shape};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete r[a]}return Ze(this,"shape",r),r},checks:[]});return Me(e,o)}function dd(e,t){if(!vt(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const o=e._zod.def.shape;for(const r in t)if(Object.getOwnPropertyDescriptor(o,r)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=Ce(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t};return Ze(this,"shape",o),o}});return Me(e,i)}function pd(e,t){if(!vt(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Ce(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Ze(this,"shape",s),s}});return Me(e,n)}function md(e,t){const n=Ce(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t._zod.def.shape};return Ze(this,"shape",s),s},get catchall(){return t._zod.def.catchall},checks:[]});return Me(e,n)}function gd(e,t,n){const i=t._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const r=Ce(t._zod.def,{get shape(){const a=t._zod.def.shape,c={...a};if(n)for(const u in n){if(!(u in a))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(c[u]=e?new e({type:"optional",innerType:a[u]}):a[u])}else for(const u in a)c[u]=e?new e({type:"optional",innerType:a[u]}):a[u];return Ze(this,"shape",c),c},checks:[]});return Me(t,r)}function yd(e,t,n){const s=Ce(t._zod.def,{get shape(){const i=t._zod.def.shape,o={...i};if(n)for(const r in n){if(!(r in o))throw new Error(`Unrecognized key: "${r}"`);n[r]&&(o[r]=new e({type:"nonoptional",innerType:i[r]}))}else for(const r in i)o[r]=new e({type:"nonoptional",innerType:i[r]});return Ze(this,"shape",o),o}});return Me(t,s)}function qe(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Ka(e,t){return t.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(e),n})}function zt(e){return typeof e=="string"?e:e?.message}function Ne(e,t,n){const s={...e,path:e.path??[]};if(!e.message){const i=zt(e.inst?._zod.def?.error?.(e))??zt(t?.error?.(e))??zt(n.customError?.(e))??zt(n.localeError?.(e))??"Invalid input";s.message=i}return delete s.inst,delete s.continue,t?.reportInput||delete s.input,s}function Bs(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function bt(...e){const[t,n,s]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:s}:{...t}}const qa=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,ss,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Us=x("$ZodError",qa),sn=x("$ZodError",qa,{Parent:Error});function vd(e,t=n=>n.message){const n={},s=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):s.push(t(i));return{formErrors:s,fieldErrors:n}}function bd(e,t=n=>n.message){const n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(r=>s({issues:r}));else if(o.code==="invalid_key")s({issues:o.issues});else if(o.code==="invalid_element")s({issues:o.issues});else if(o.path.length===0)n._errors.push(t(o));else{let r=n,a=0;for(;a<o.path.length;){const c=o.path[a];a===o.path.length-1?(r[c]=r[c]||{_errors:[]},r[c]._errors.push(t(o))):r[c]=r[c]||{_errors:[]},r=r[c],a++}}};return s(e),n}const rn=e=>(t,n,s,i)=>{const o=s?Object.assign(s,{async:!1}):{async:!1},r=t._zod.run({value:n,issues:[]},o);if(r instanceof Promise)throw new Xe;if(r.issues.length){const a=new(i?.Err??e)(r.issues.map(c=>Ne(c,o,je())));throw Wa(a,i?.callee),a}return r.value},wd=rn(sn),on=e=>async(t,n,s,i)=>{const o=s?Object.assign(s,{async:!0}):{async:!0};let r=t._zod.run({value:n,issues:[]},o);if(r instanceof Promise&&(r=await r),r.issues.length){const a=new(i?.Err??e)(r.issues.map(c=>Ne(c,o,je())));throw Wa(a,i?.callee),a}return r.value},xd=on(sn),an=e=>(t,n,s)=>{const i=s?{...s,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new Xe;return o.issues.length?{success:!1,error:new(e??Us)(o.issues.map(r=>Ne(r,i,je())))}:{success:!0,data:o.value}},_d=an(sn),cn=e=>async(t,n,s)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(r=>Ne(r,i,je())))}:{success:!0,data:o.value}},Td=cn(sn),Sd=e=>(t,n,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return rn(e)(t,n,i)},Ad=e=>(t,n,s)=>rn(e)(t,n,s),Ed=e=>async(t,n,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return on(e)(t,n,i)},Pd=e=>async(t,n,s)=>on(e)(t,n,s),kd=e=>(t,n,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return an(e)(t,n,i)},Cd=e=>(t,n,s)=>an(e)(t,n,s),Md=e=>async(t,n,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return cn(e)(t,n,i)},zd=e=>async(t,n,s)=>cn(e)(t,n,s),Od=/^[cC][^\s-]{8,}$/,Dd=/^[0-9a-z]+$/,Vd=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Rd=/^[0-9a-vA-V]{20}$/,Id=/^[A-Za-z0-9]{27}$/,$d=/^[a-zA-Z0-9_-]{21}$/,Ld=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Fd=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,hr=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,jd=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Nd="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Zd(){return new RegExp(Nd,"u")}const Bd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ud=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Wd=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Gd=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Kd=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Ha=/^[A-Za-z0-9_-]*$/,qd=/^\+[1-9]\d{6,14}$/,Xa="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Hd=new RegExp(`^${Xa}$`);function Ya(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Xd(e){return new RegExp(`^${Ya(e)}$`)}function Yd(e){const t=Ya({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${t}(?:${n.join("|")})`;return new RegExp(`^${Xa}T(?:${s})$`)}const Jd=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Qd=/^[^A-Z]*$/,ep=/^[^a-z]*$/,me=x("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),tp=x("$ZodCheckMaxLength",(e,t)=>{var n;me.init(e,t),(n=e._zod.def).when??(n.when=s=>{const i=s.value;return!Ns(i)&&i.length!==void 0}),e._zod.onattach.push(s=>{const i=s._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(s._zod.bag.maximum=t.maximum)}),e._zod.check=s=>{const i=s.value;if(i.length<=t.maximum)return;const r=Bs(i);s.issues.push({origin:r,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),np=x("$ZodCheckMinLength",(e,t)=>{var n;me.init(e,t),(n=e._zod.def).when??(n.when=s=>{const i=s.value;return!Ns(i)&&i.length!==void 0}),e._zod.onattach.push(s=>{const i=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(s._zod.bag.minimum=t.minimum)}),e._zod.check=s=>{const i=s.value;if(i.length>=t.minimum)return;const r=Bs(i);s.issues.push({origin:r,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),sp=x("$ZodCheckLengthEquals",(e,t)=>{var n;me.init(e,t),(n=e._zod.def).when??(n.when=s=>{const i=s.value;return!Ns(i)&&i.length!==void 0}),e._zod.onattach.push(s=>{const i=s._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=s=>{const i=s.value,o=i.length;if(o===t.length)return;const r=Bs(i),a=o>t.length;s.issues.push({origin:r,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!t.abort})}}),un=x("$ZodCheckStringFormat",(e,t)=>{var n,s;me.init(e,t),e._zod.onattach.push(i=>{const o=i._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),ip=x("$ZodCheckRegex",(e,t)=>{un.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),rp=x("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Qd),un.init(e,t)}),op=x("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=ep),un.init(e,t)}),ap=x("$ZodCheckIncludes",(e,t)=>{me.init(e,t);const n=nn(t.includes),s=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=s,e._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(s)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),cp=x("$ZodCheckStartsWith",(e,t)=>{me.init(e,t);const n=new RegExp(`^${nn(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=s=>{s.value.startsWith(t.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:s.value,inst:e,continue:!t.abort})}}),up=x("$ZodCheckEndsWith",(e,t)=>{me.init(e,t);const n=new RegExp(`.*${nn(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=s=>{s.value.endsWith(t.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:s.value,inst:e,continue:!t.abort})}}),lp=x("$ZodCheckOverwrite",(e,t)=>{me.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class hp{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const s=t.split(`
`).filter(r=>r),i=Math.min(...s.map(r=>r.length-r.trimStart().length)),o=s.map(r=>r.slice(i)).map(r=>" ".repeat(this.indent*2)+r);for(const r of o)this.content.push(r)}compile(){const t=Function,n=this?.args,i=[...(this?.content??[""]).map(o=>`  ${o}`)];return new t(...n,i.join(`
`))}}const fp={major:4,minor:3,patch:5},q=x("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=fp;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const i of s)for(const o of i._zod.onattach)o(e);if(s.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(r,a,c)=>{let u=qe(r),l;for(const h of a){if(h._zod.def.when){if(!h._zod.def.when(r))continue}else if(u)continue;const f=r.issues.length,d=h._zod.check(r);if(d instanceof Promise&&c?.async===!1)throw new Xe;if(l||d instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await d,r.issues.length!==f&&(u||(u=qe(r,f)))});else{if(r.issues.length===f)continue;u||(u=qe(r,f))}}return l?l.then(()=>r):r},o=(r,a,c)=>{if(qe(r))return r.aborted=!0,r;const u=i(a,s,c);if(u instanceof Promise){if(c.async===!1)throw new Xe;return u.then(l=>e._zod.parse(l,c))}return e._zod.parse(u,c)};e._zod.run=(r,a)=>{if(a.skipChecks)return e._zod.parse(r,a);if(a.direction==="backward"){const u=e._zod.parse({value:r.value,issues:[]},{...a,skipChecks:!0});return u instanceof Promise?u.then(l=>o(l,r,a)):o(u,r,a)}const c=e._zod.parse(r,a);if(c instanceof Promise){if(a.async===!1)throw new Xe;return c.then(u=>i(u,s,a))}return i(c,s,a)}}R(e,"~standard",()=>({validate:i=>{try{const o=_d(e,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return Td(e,i).then(r=>r.success?{value:r.data}:{issues:r.error?.issues})}},vendor:"zod",version:1}))}),Ws=x("$ZodString",(e,t)=>{q.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Jd(e._zod.bag),e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),F=x("$ZodStringFormat",(e,t)=>{un.init(e,t),Ws.init(e,t)}),dp=x("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Fd),F.init(e,t)}),pp=x("$ZodUUID",(e,t)=>{if(t.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(s===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=hr(s))}else t.pattern??(t.pattern=hr());F.init(e,t)}),mp=x("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=jd),F.init(e,t)}),gp=x("$ZodURL",(e,t)=>{F.init(e,t),e._zod.check=n=>{try{const s=n.value.trim(),i=new URL(s);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),yp=x("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Zd()),F.init(e,t)}),vp=x("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=$d),F.init(e,t)}),bp=x("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Od),F.init(e,t)}),wp=x("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Dd),F.init(e,t)}),xp=x("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Vd),F.init(e,t)}),_p=x("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Rd),F.init(e,t)}),Tp=x("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Id),F.init(e,t)}),Sp=x("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Yd(t)),F.init(e,t)}),Ap=x("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Hd),F.init(e,t)}),Ep=x("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Xd(t)),F.init(e,t)}),Pp=x("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Ld),F.init(e,t)}),kp=x("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Bd),F.init(e,t),e._zod.bag.format="ipv4"}),Cp=x("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Ud),F.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Mp=x("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Wd),F.init(e,t)}),zp=x("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Gd),F.init(e,t),e._zod.check=n=>{const s=n.value.split("/");try{if(s.length!==2)throw new Error;const[i,o]=s;if(!o)throw new Error;const r=Number(o);if(`${r}`!==o)throw new Error;if(r<0||r>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Ja(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Op=x("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Kd),F.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Ja(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Dp(e){if(!Ha.test(e))return!1;const t=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Ja(n)}const Vp=x("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Ha),F.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{Dp(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Rp=x("$ZodE164",(e,t)=>{t.pattern??(t.pattern=qd),F.init(e,t)});function Ip(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const i=JSON.parse(atob(s));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const $p=x("$ZodJWT",(e,t)=>{F.init(e,t),e._zod.check=n=>{Ip(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Lp=x("$ZodUnknown",(e,t)=>{q.init(e,t),e._zod.parse=n=>n}),Fp=x("$ZodNever",(e,t)=>{q.init(e,t),e._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function fr(e,t,n){e.issues.length&&t.issues.push(...Ka(n,e.issues)),t.value[n]=e.value}const jp=x("$ZodArray",(e,t)=>{q.init(e,t),e._zod.parse=(n,s)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const o=[];for(let r=0;r<i.length;r++){const a=i[r],c=t.element._zod.run({value:a,issues:[]},s);c instanceof Promise?o.push(c.then(u=>fr(u,n,r))):fr(c,n,r)}return o.length?Promise.all(o).then(()=>n):n}});function Kt(e,t,n,s,i){if(e.issues.length){if(i&&!(n in s))return;t.issues.push(...Ka(n,e.issues))}e.value===void 0?n in s&&(t.value[n]=void 0):t.value[n]=e.value}function Qa(e){const t=Object.keys(e.shape);for(const s of t)if(!e.shape?.[s]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const n=ld(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function ec(e,t,n,s,i,o){const r=[],a=i.keySet,c=i.catchall._zod,u=c.def.type,l=c.optout==="optional";for(const h in t){if(a.has(h))continue;if(u==="never"){r.push(h);continue}const f=c.run({value:t[h],issues:[]},s);f instanceof Promise?e.push(f.then(d=>Kt(d,n,h,t,l))):Kt(f,n,h,t,l)}return r.length&&n.issues.push({code:"unrecognized_keys",keys:r,input:t,inst:o}),e.length?Promise.all(e).then(()=>n):n}const Np=x("$ZodObject",(e,t)=>{if(q.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const a=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...a};return Object.defineProperty(t,"shape",{value:c}),c}})}const s=js(()=>Qa(t));R(e._zod,"propValues",()=>{const a=t.shape,c={};for(const u in a){const l=a[u]._zod;if(l.values){c[u]??(c[u]=new Set);for(const h of l.values)c[u].add(h)}}return c});const i=Gt,o=t.catchall;let r;e._zod.parse=(a,c)=>{r??(r=s.value);const u=a.value;if(!i(u))return a.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),a;a.value={};const l=[],h=r.shape;for(const f of r.keys){const d=h[f],p=d._zod.optout==="optional",m=d._zod.run({value:u[f],issues:[]},c);m instanceof Promise?l.push(m.then(g=>Kt(g,a,f,u,p))):Kt(m,a,f,u,p)}return o?ec(l,u,a,c,s.value,e):l.length?Promise.all(l).then(()=>a):a}}),Zp=x("$ZodObjectJIT",(e,t)=>{Np.init(e,t);const n=e._zod.parse,s=js(()=>Qa(t)),i=f=>{const d=new hp(["shape","payload","ctx"]),p=s.value,m=b=>{const _=lr(b);return`shape[${_}]._zod.run({ value: input[${_}], issues: [] }, ctx)`};d.write("const input = payload.value;");const g=Object.create(null);let y=0;for(const b of p.keys)g[b]=`key_${y++}`;d.write("const newResult = {};");for(const b of p.keys){const _=g[b],v=lr(b),A=f[b]?._zod?.optout==="optional";d.write(`const ${_} = ${m(b)};`),A?d.write(`
        if (${_}.issues.length) {
          if (${v} in input) {
            payload.issues = payload.issues.concat(${_}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${v}, ...iss.path] : [${v}]
            })));
          }
        }
        
        if (${_}.value === undefined) {
          if (${v} in input) {
            newResult[${v}] = undefined;
          }
        } else {
          newResult[${v}] = ${_}.value;
        }
        
      `):d.write(`
        if (${_}.issues.length) {
          payload.issues = payload.issues.concat(${_}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${v}, ...iss.path] : [${v}]
          })));
        }
        
        if (${_}.value === undefined) {
          if (${v} in input) {
            newResult[${v}] = undefined;
          }
        } else {
          newResult[${v}] = ${_}.value;
        }
        
      `)}d.write("payload.value = newResult;"),d.write("return payload;");const S=d.compile();return(b,_)=>S(f,b,_)};let o;const r=Gt,a=!Ba.jitless,u=a&&cd.value,l=t.catchall;let h;e._zod.parse=(f,d)=>{h??(h=s.value);const p=f.value;return r(p)?a&&u&&d?.async===!1&&d.jitless!==!0?(o||(o=i(t.shape)),f=o(f,d),l?ec([],p,f,d,h,e):f):n(f,d):(f.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),f)}});function dr(e,t,n,s){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const i=e.filter(o=>!qe(o));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(o=>o.issues.map(r=>Ne(r,s,je())))}),t)}const Bp=x("$ZodUnion",(e,t)=>{q.init(e,t),R(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),R(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),R(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),R(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${i.map(o=>Zs(o.source)).join("|")})$`)}});const n=t.options.length===1,s=t.options[0]._zod.run;e._zod.parse=(i,o)=>{if(n)return s(i,o);let r=!1;const a=[];for(const c of t.options){const u=c._zod.run({value:i.value,issues:[]},o);if(u instanceof Promise)a.push(u),r=!0;else{if(u.issues.length===0)return u;a.push(u)}}return r?Promise.all(a).then(c=>dr(c,i,e,o)):dr(a,i,e,o)}}),Up=x("$ZodIntersection",(e,t)=>{q.init(e,t),e._zod.parse=(n,s)=>{const i=n.value,o=t.left._zod.run({value:i,issues:[]},s),r=t.right._zod.run({value:i,issues:[]},s);return o instanceof Promise||r instanceof Promise?Promise.all([o,r]).then(([c,u])=>pr(n,c,u)):pr(n,o,r)}});function is(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(vt(e)&&vt(t)){const n=Object.keys(t),s=Object.keys(e).filter(o=>n.indexOf(o)!==-1),i={...e,...t};for(const o of s){const r=is(e[o],t[o]);if(!r.valid)return{valid:!1,mergeErrorPath:[o,...r.mergeErrorPath]};i[o]=r.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<e.length;s++){const i=e[s],o=t[s],r=is(i,o);if(!r.valid)return{valid:!1,mergeErrorPath:[s,...r.mergeErrorPath]};n.push(r.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function pr(e,t,n){const s=new Map;let i;for(const a of t.issues)if(a.code==="unrecognized_keys"){i??(i=a);for(const c of a.keys)s.has(c)||s.set(c,{}),s.get(c).l=!0}else e.issues.push(a);for(const a of n.issues)if(a.code==="unrecognized_keys")for(const c of a.keys)s.has(c)||s.set(c,{}),s.get(c).r=!0;else e.issues.push(a);const o=[...s].filter(([,a])=>a.l&&a.r).map(([a])=>a);if(o.length&&i&&e.issues.push({...i,keys:o}),qe(e))return e;const r=is(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const Wp=x("$ZodEnum",(e,t)=>{q.init(e,t);const n=Ua(t.entries),s=new Set(n);e._zod.values=s,e._zod.pattern=new RegExp(`^(${n.filter(i=>ud.has(typeof i)).map(i=>typeof i=="string"?nn(i):i.toString()).join("|")})$`),e._zod.parse=(i,o)=>{const r=i.value;return s.has(r)||i.issues.push({code:"invalid_value",values:n,input:r,inst:e}),i}}),Gp=x("$ZodTransform",(e,t)=>{q.init(e,t),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new Za(e.constructor.name);const i=t.transform(n.value,n);if(s.async)return(i instanceof Promise?i:Promise.resolve(i)).then(r=>(n.value=r,n));if(i instanceof Promise)throw new Xe;return n.value=i,n}});function mr(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const tc=x("$ZodOptional",(e,t)=>{q.init(e,t),e._zod.optin="optional",e._zod.optout="optional",R(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),R(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Zs(n.source)})?$`):void 0}),e._zod.parse=(n,s)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(o=>mr(o,n.value)):mr(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,s)}}),Kp=x("$ZodExactOptional",(e,t)=>{tc.init(e,t),R(e._zod,"values",()=>t.innerType._zod.values),R(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,s)=>t.innerType._zod.run(n,s)}),qp=x("$ZodNullable",(e,t)=>{q.init(e,t),R(e._zod,"optin",()=>t.innerType._zod.optin),R(e._zod,"optout",()=>t.innerType._zod.optout),R(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Zs(n.source)}|null)$`):void 0}),R(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,s)=>n.value===null?n:t.innerType._zod.run(n,s)}),Hp=x("$ZodDefault",(e,t)=>{q.init(e,t),e._zod.optin="optional",R(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(o=>gr(o,t)):gr(i,t)}});function gr(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Xp=x("$ZodPrefault",(e,t)=>{q.init(e,t),e._zod.optin="optional",R(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>(s.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,s))}),Yp=x("$ZodNonOptional",(e,t)=>{q.init(e,t),R(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),e._zod.parse=(n,s)=>{const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(o=>yr(o,e)):yr(i,e)}});function yr(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Jp=x("$ZodCatch",(e,t)=>{q.init(e,t),R(e._zod,"optin",()=>t.innerType._zod.optin),R(e._zod,"optout",()=>t.innerType._zod.optout),R(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(r=>Ne(r,s,je()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(o=>Ne(o,s,je()))},input:n.value}),n.issues=[]),n)}}),Qp=x("$ZodPipe",(e,t)=>{q.init(e,t),R(e._zod,"values",()=>t.in._zod.values),R(e._zod,"optin",()=>t.in._zod.optin),R(e._zod,"optout",()=>t.out._zod.optout),R(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,s)=>{if(s.direction==="backward"){const o=t.out._zod.run(n,s);return o instanceof Promise?o.then(r=>Ot(r,t.in,s)):Ot(o,t.in,s)}const i=t.in._zod.run(n,s);return i instanceof Promise?i.then(o=>Ot(o,t.out,s)):Ot(i,t.out,s)}});function Ot(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const em=x("$ZodReadonly",(e,t)=>{q.init(e,t),R(e._zod,"propValues",()=>t.innerType._zod.propValues),R(e._zod,"values",()=>t.innerType._zod.values),R(e._zod,"optin",()=>t.innerType?._zod?.optin),R(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(vr):vr(i)}});function vr(e){return e.value=Object.freeze(e.value),e}const tm=x("$ZodCustom",(e,t)=>{me.init(e,t),q.init(e,t),e._zod.parse=(n,s)=>n,e._zod.check=n=>{const s=n.value,i=t.fn(s);if(i instanceof Promise)return i.then(o=>br(o,n,s,e));br(i,n,s,e)}});function br(e,t,n,s){if(!e){const i={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(i.params=s._zod.def.params),t.issues.push(bt(i))}}var wr;class nm{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const s=n[0];return this._map.set(t,s),s&&typeof s=="object"&&"id"in s&&this._idmap.set(s.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const i={...s,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function sm(){return new nm}(wr=globalThis).__zod_globalRegistry??(wr.__zod_globalRegistry=sm());const ot=globalThis.__zod_globalRegistry;function im(e,t){return new e({type:"string",...z(t)})}function rm(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...z(t)})}function xr(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...z(t)})}function om(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...z(t)})}function am(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...z(t)})}function cm(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...z(t)})}function um(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...z(t)})}function lm(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...z(t)})}function hm(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...z(t)})}function fm(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...z(t)})}function dm(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...z(t)})}function pm(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...z(t)})}function mm(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...z(t)})}function gm(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...z(t)})}function ym(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...z(t)})}function vm(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...z(t)})}function bm(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...z(t)})}function wm(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...z(t)})}function xm(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...z(t)})}function _m(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...z(t)})}function Tm(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...z(t)})}function Sm(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...z(t)})}function Am(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...z(t)})}function Em(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...z(t)})}function Pm(e,t){return new e({type:"string",format:"date",check:"string_format",...z(t)})}function km(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...z(t)})}function Cm(e,t){return new e({type:"string",format:"duration",check:"string_format",...z(t)})}function Mm(e){return new e({type:"unknown"})}function zm(e,t){return new e({type:"never",...z(t)})}function nc(e,t){return new tp({check:"max_length",...z(t),maximum:e})}function qt(e,t){return new np({check:"min_length",...z(t),minimum:e})}function sc(e,t){return new sp({check:"length_equals",...z(t),length:e})}function Om(e,t){return new ip({check:"string_format",format:"regex",...z(t),pattern:e})}function Dm(e){return new rp({check:"string_format",format:"lowercase",...z(e)})}function Vm(e){return new op({check:"string_format",format:"uppercase",...z(e)})}function Rm(e,t){return new ap({check:"string_format",format:"includes",...z(t),includes:e})}function Im(e,t){return new cp({check:"string_format",format:"starts_with",...z(t),prefix:e})}function $m(e,t){return new up({check:"string_format",format:"ends_with",...z(t),suffix:e})}function tt(e){return new lp({check:"overwrite",tx:e})}function Lm(e){return tt(t=>t.normalize(e))}function Fm(){return tt(e=>e.trim())}function jm(){return tt(e=>e.toLowerCase())}function Nm(){return tt(e=>e.toUpperCase())}function Zm(){return tt(e=>ad(e))}function Bm(e,t,n){return new e({type:"array",element:t,...z(n)})}function Um(e,t,n){return new e({type:"custom",check:"custom",fn:t,...z(n)})}function Wm(e){const t=Gm(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(bt(s,n.value,t._zod.def));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(bt(i))}},e(n.value,n)));return t}function Gm(e,t){const n=new me({check:"custom",...z(t)});return n._zod.check=e,n}function ic(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??ot,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Q(e,t,n={path:[],schemaPath:[]}){var s;const i=e._zod.def,o=t.seen.get(e);if(o)return o.count++,n.schemaPath.includes(e)&&(o.cycle=n.path),o.schema;const r={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,r);const a=e._zod.toJSONSchema?.();if(a)r.schema=a;else{const l={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,r.schema,l);else{const f=r.schema,d=t.processors[i.type];if(!d)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);d(e,t,f,l)}const h=e._zod.parent;h&&(r.ref||(r.ref=h),Q(h,t,l),t.seen.get(h).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(r.schema,c),t.io==="input"&&ee(e)&&(delete r.schema.examples,delete r.schema.default),t.io==="input"&&r.schema._prefault&&((s=r.schema).default??(s.default=r.schema._prefault)),delete r.schema._prefault,t.seen.get(e).schema}function rc(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=new Map;for(const r of e.seen.entries()){const a=e.metadataRegistry.get(r[0])?.id;if(a){const c=s.get(a);if(c&&c!==r[0])throw new Error(`Duplicate schema id "${a}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);s.set(a,r[0])}}const i=r=>{const a=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const h=e.external.registry.get(r[0])?.id,f=e.external.uri??(p=>p);if(h)return{ref:f(h)};const d=r[1].defId??r[1].schema.id??`schema${e.counter++}`;return r[1].defId=d,{defId:d,ref:`${f("__shared")}#/${a}/${d}`}}if(r[1]===n)return{ref:"#"};const u=`#/${a}/`,l=r[1].schema.id??`__schema${e.counter++}`;return{defId:l,ref:u+l}},o=r=>{if(r[1].schema.$ref)return;const a=r[1],{ref:c,defId:u}=i(r);a.def={...a.schema},u&&(a.defId=u);const l=a.schema;for(const h in l)delete l[h];l.$ref=c};if(e.cycles==="throw")for(const r of e.seen.entries()){const a=r[1];if(a.cycle)throw new Error(`Cycle detected: #/${a.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const r of e.seen.entries()){const a=r[1];if(t===r[0]){o(r);continue}if(e.external){const u=e.external.registry.get(r[0])?.id;if(t!==r[0]&&u){o(r);continue}}if(e.metadataRegistry.get(r[0])?.id){o(r);continue}if(a.cycle){o(r);continue}if(a.count>1&&e.reused==="ref"){o(r);continue}}}function oc(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=r=>{const a=e.seen.get(r);if(a.ref===null)return;const c=a.def??a.schema,u={...c},l=a.ref;if(a.ref=null,l){s(l);const f=e.seen.get(l),d=f.schema;if(d.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(d)):Object.assign(c,d),Object.assign(c,u),r._zod.parent===l)for(const m in c)m==="$ref"||m==="allOf"||m in u||delete c[m];if(d.$ref)for(const m in c)m==="$ref"||m==="allOf"||m in f.def&&JSON.stringify(c[m])===JSON.stringify(f.def[m])&&delete c[m]}const h=r._zod.parent;if(h&&h!==l){s(h);const f=e.seen.get(h);if(f?.schema.$ref&&(c.$ref=f.schema.$ref,f.def))for(const d in c)d==="$ref"||d==="allOf"||d in f.def&&JSON.stringify(c[d])===JSON.stringify(f.def[d])&&delete c[d]}e.override({zodSchema:r,jsonSchema:c,path:a.path??[]})};for(const r of[...e.seen.entries()].reverse())s(r[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const r=e.external.registry.get(t)?.id;if(!r)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(r)}Object.assign(i,n.def??n.schema);const o=e.external?.defs??{};for(const r of e.seen.entries()){const a=r[1];a.def&&a.defId&&(o[a.defId]=a.def)}e.external||Object.keys(o).length>0&&(e.target==="draft-2020-12"?i.$defs=o:i.definitions=o);try{const r=JSON.parse(JSON.stringify(i));return Object.defineProperty(r,"~standard",{value:{...t["~standard"],jsonSchema:{input:Ht(t,"input",e.processors),output:Ht(t,"output",e.processors)}},enumerable:!1,writable:!1}),r}catch{throw new Error("Error converting schema to JSON.")}}function ee(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const s=e._zod.def;if(s.type==="transform")return!0;if(s.type==="array")return ee(s.element,n);if(s.type==="set")return ee(s.valueType,n);if(s.type==="lazy")return ee(s.getter(),n);if(s.type==="promise"||s.type==="optional"||s.type==="nonoptional"||s.type==="nullable"||s.type==="readonly"||s.type==="default"||s.type==="prefault")return ee(s.innerType,n);if(s.type==="intersection")return ee(s.left,n)||ee(s.right,n);if(s.type==="record"||s.type==="map")return ee(s.keyType,n)||ee(s.valueType,n);if(s.type==="pipe")return ee(s.in,n)||ee(s.out,n);if(s.type==="object"){for(const i in s.shape)if(ee(s.shape[i],n))return!0;return!1}if(s.type==="union"){for(const i of s.options)if(ee(i,n))return!0;return!1}if(s.type==="tuple"){for(const i of s.items)if(ee(i,n))return!0;return!!(s.rest&&ee(s.rest,n))}return!1}const Km=(e,t={})=>n=>{const s=ic({...n,processors:t});return Q(e,s),rc(s,e),oc(s,e)},Ht=(e,t,n={})=>s=>{const{libraryOptions:i,target:o}=s??{},r=ic({...i??{},target:o,io:t,processors:n});return Q(e,r),rc(r,e),oc(r,e)},qm={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Hm=(e,t,n,s)=>{const i=n;i.type="string";const{minimum:o,maximum:r,format:a,patterns:c,contentEncoding:u}=e._zod.bag;if(typeof o=="number"&&(i.minLength=o),typeof r=="number"&&(i.maxLength=r),a&&(i.format=qm[a]??a,i.format===""&&delete i.format,a==="time"&&delete i.format),u&&(i.contentEncoding=u),c&&c.size>0){const l=[...c];l.length===1?i.pattern=l[0].source:l.length>1&&(i.allOf=[...l.map(h=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},Xm=(e,t,n,s)=>{n.not={}},Ym=(e,t,n,s)=>{},Jm=(e,t,n,s)=>{const i=e._zod.def,o=Ua(i.entries);o.every(r=>typeof r=="number")&&(n.type="number"),o.every(r=>typeof r=="string")&&(n.type="string"),n.enum=o},Qm=(e,t,n,s)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},eg=(e,t,n,s)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},tg=(e,t,n,s)=>{const i=n,o=e._zod.def,{minimum:r,maximum:a}=e._zod.bag;typeof r=="number"&&(i.minItems=r),typeof a=="number"&&(i.maxItems=a),i.type="array",i.items=Q(o.element,t,{...s,path:[...s.path,"items"]})},ng=(e,t,n,s)=>{const i=n,o=e._zod.def;i.type="object",i.properties={};const r=o.shape;for(const u in r)i.properties[u]=Q(r[u],t,{...s,path:[...s.path,"properties",u]});const a=new Set(Object.keys(r)),c=new Set([...a].filter(u=>{const l=o.shape[u]._zod;return t.io==="input"?l.optin===void 0:l.optout===void 0}));c.size>0&&(i.required=Array.from(c)),o.catchall?._zod.def.type==="never"?i.additionalProperties=!1:o.catchall?o.catchall&&(i.additionalProperties=Q(o.catchall,t,{...s,path:[...s.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},sg=(e,t,n,s)=>{const i=e._zod.def,o=i.inclusive===!1,r=i.options.map((a,c)=>Q(a,t,{...s,path:[...s.path,o?"oneOf":"anyOf",c]}));o?n.oneOf=r:n.anyOf=r},ig=(e,t,n,s)=>{const i=e._zod.def,o=Q(i.left,t,{...s,path:[...s.path,"allOf",0]}),r=Q(i.right,t,{...s,path:[...s.path,"allOf",1]}),a=u=>"allOf"in u&&Object.keys(u).length===1,c=[...a(o)?o.allOf:[o],...a(r)?r.allOf:[r]];n.allOf=c},rg=(e,t,n,s)=>{const i=e._zod.def,o=Q(i.innerType,t,s),r=t.seen.get(e);t.target==="openapi-3.0"?(r.ref=i.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},og=(e,t,n,s)=>{const i=e._zod.def;Q(i.innerType,t,s);const o=t.seen.get(e);o.ref=i.innerType},ag=(e,t,n,s)=>{const i=e._zod.def;Q(i.innerType,t,s);const o=t.seen.get(e);o.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},cg=(e,t,n,s)=>{const i=e._zod.def;Q(i.innerType,t,s);const o=t.seen.get(e);o.ref=i.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},ug=(e,t,n,s)=>{const i=e._zod.def;Q(i.innerType,t,s);const o=t.seen.get(e);o.ref=i.innerType;let r;try{r=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=r},lg=(e,t,n,s)=>{const i=e._zod.def,o=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;Q(o,t,s);const r=t.seen.get(e);r.ref=o},hg=(e,t,n,s)=>{const i=e._zod.def;Q(i.innerType,t,s);const o=t.seen.get(e);o.ref=i.innerType,n.readOnly=!0},ac=(e,t,n,s)=>{const i=e._zod.def;Q(i.innerType,t,s);const o=t.seen.get(e);o.ref=i.innerType},fg=x("ZodISODateTime",(e,t)=>{Sp.init(e,t),Z.init(e,t)});function dg(e){return Em(fg,e)}const pg=x("ZodISODate",(e,t)=>{Ap.init(e,t),Z.init(e,t)});function mg(e){return Pm(pg,e)}const gg=x("ZodISOTime",(e,t)=>{Ep.init(e,t),Z.init(e,t)});function yg(e){return km(gg,e)}const vg=x("ZodISODuration",(e,t)=>{Pp.init(e,t),Z.init(e,t)});function bg(e){return Cm(vg,e)}const wg=(e,t)=>{Us.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>bd(e,n)},flatten:{value:n=>vd(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,ss,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,ss,2)}},isEmpty:{get(){return e.issues.length===0}}})},ce=x("ZodError",wg,{Parent:Error}),xg=rn(ce),_g=on(ce),Tg=an(ce),Sg=cn(ce),Ag=Sd(ce),Eg=Ad(ce),Pg=Ed(ce),kg=Pd(ce),Cg=kd(ce),Mg=Cd(ce),zg=Md(ce),Og=zd(ce),H=x("ZodType",(e,t)=>(q.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Ht(e,"input"),output:Ht(e,"output")}}),e.toJSONSchema=Km(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Ce(t,{checks:[...t.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),{parent:!0}),e.with=e.check,e.clone=(n,s)=>Me(e,n,s),e.brand=()=>e,e.register=((n,s)=>(n.add(e,s),e)),e.parse=(n,s)=>xg(e,n,s,{callee:e.parse}),e.safeParse=(n,s)=>Tg(e,n,s),e.parseAsync=async(n,s)=>_g(e,n,s,{callee:e.parseAsync}),e.safeParseAsync=async(n,s)=>Sg(e,n,s),e.spa=e.safeParseAsync,e.encode=(n,s)=>Ag(e,n,s),e.decode=(n,s)=>Eg(e,n,s),e.encodeAsync=async(n,s)=>Pg(e,n,s),e.decodeAsync=async(n,s)=>kg(e,n,s),e.safeEncode=(n,s)=>Cg(e,n,s),e.safeDecode=(n,s)=>Mg(e,n,s),e.safeEncodeAsync=async(n,s)=>zg(e,n,s),e.safeDecodeAsync=async(n,s)=>Og(e,n,s),e.refine=(n,s)=>e.check(Sy(n,s)),e.superRefine=n=>e.check(Ay(n)),e.overwrite=n=>e.check(tt(n)),e.optional=()=>Sr(e),e.exactOptional=()=>hy(e),e.nullable=()=>Ar(e),e.nullish=()=>Sr(Ar(e)),e.nonoptional=n=>yy(e,n),e.array=()=>ty(e),e.or=n=>iy([e,n]),e.and=n=>oy(e,n),e.transform=n=>Er(e,uy(n)),e.default=n=>py(e,n),e.prefault=n=>gy(e,n),e.catch=n=>by(e,n),e.pipe=n=>Er(e,n),e.readonly=()=>_y(e),e.describe=n=>{const s=e.clone();return ot.add(s,{description:n}),s},Object.defineProperty(e,"description",{get(){return ot.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return ot.get(e);const s=e.clone();return ot.add(s,n[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),cc=x("_ZodString",(e,t)=>{Ws.init(e,t),H.init(e,t),e._zod.processJSONSchema=(s,i,o)=>Hm(e,s,i);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...s)=>e.check(Om(...s)),e.includes=(...s)=>e.check(Rm(...s)),e.startsWith=(...s)=>e.check(Im(...s)),e.endsWith=(...s)=>e.check($m(...s)),e.min=(...s)=>e.check(qt(...s)),e.max=(...s)=>e.check(nc(...s)),e.length=(...s)=>e.check(sc(...s)),e.nonempty=(...s)=>e.check(qt(1,...s)),e.lowercase=s=>e.check(Dm(s)),e.uppercase=s=>e.check(Vm(s)),e.trim=()=>e.check(Fm()),e.normalize=(...s)=>e.check(Lm(...s)),e.toLowerCase=()=>e.check(jm()),e.toUpperCase=()=>e.check(Nm()),e.slugify=()=>e.check(Zm())}),Dg=x("ZodString",(e,t)=>{Ws.init(e,t),cc.init(e,t),e.email=n=>e.check(rm(Vg,n)),e.url=n=>e.check(lm(Rg,n)),e.jwt=n=>e.check(Am(Xg,n)),e.emoji=n=>e.check(hm(Ig,n)),e.guid=n=>e.check(xr(_r,n)),e.uuid=n=>e.check(om(Dt,n)),e.uuidv4=n=>e.check(am(Dt,n)),e.uuidv6=n=>e.check(cm(Dt,n)),e.uuidv7=n=>e.check(um(Dt,n)),e.nanoid=n=>e.check(fm($g,n)),e.guid=n=>e.check(xr(_r,n)),e.cuid=n=>e.check(dm(Lg,n)),e.cuid2=n=>e.check(pm(Fg,n)),e.ulid=n=>e.check(mm(jg,n)),e.base64=n=>e.check(_m(Kg,n)),e.base64url=n=>e.check(Tm(qg,n)),e.xid=n=>e.check(gm(Ng,n)),e.ksuid=n=>e.check(ym(Zg,n)),e.ipv4=n=>e.check(vm(Bg,n)),e.ipv6=n=>e.check(bm(Ug,n)),e.cidrv4=n=>e.check(wm(Wg,n)),e.cidrv6=n=>e.check(xm(Gg,n)),e.e164=n=>e.check(Sm(Hg,n)),e.datetime=n=>e.check(dg(n)),e.date=n=>e.check(mg(n)),e.time=n=>e.check(yg(n)),e.duration=n=>e.check(bg(n))});function E1(e){return im(Dg,e)}const Z=x("ZodStringFormat",(e,t)=>{F.init(e,t),cc.init(e,t)}),Vg=x("ZodEmail",(e,t)=>{mp.init(e,t),Z.init(e,t)}),_r=x("ZodGUID",(e,t)=>{dp.init(e,t),Z.init(e,t)}),Dt=x("ZodUUID",(e,t)=>{pp.init(e,t),Z.init(e,t)}),Rg=x("ZodURL",(e,t)=>{gp.init(e,t),Z.init(e,t)}),Ig=x("ZodEmoji",(e,t)=>{yp.init(e,t),Z.init(e,t)}),$g=x("ZodNanoID",(e,t)=>{vp.init(e,t),Z.init(e,t)}),Lg=x("ZodCUID",(e,t)=>{bp.init(e,t),Z.init(e,t)}),Fg=x("ZodCUID2",(e,t)=>{wp.init(e,t),Z.init(e,t)}),jg=x("ZodULID",(e,t)=>{xp.init(e,t),Z.init(e,t)}),Ng=x("ZodXID",(e,t)=>{_p.init(e,t),Z.init(e,t)}),Zg=x("ZodKSUID",(e,t)=>{Tp.init(e,t),Z.init(e,t)}),Bg=x("ZodIPv4",(e,t)=>{kp.init(e,t),Z.init(e,t)}),Ug=x("ZodIPv6",(e,t)=>{Cp.init(e,t),Z.init(e,t)}),Wg=x("ZodCIDRv4",(e,t)=>{Mp.init(e,t),Z.init(e,t)}),Gg=x("ZodCIDRv6",(e,t)=>{zp.init(e,t),Z.init(e,t)}),Kg=x("ZodBase64",(e,t)=>{Op.init(e,t),Z.init(e,t)}),qg=x("ZodBase64URL",(e,t)=>{Vp.init(e,t),Z.init(e,t)}),Hg=x("ZodE164",(e,t)=>{Rp.init(e,t),Z.init(e,t)}),Xg=x("ZodJWT",(e,t)=>{$p.init(e,t),Z.init(e,t)}),Yg=x("ZodUnknown",(e,t)=>{Lp.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>Ym()});function Tr(){return Mm(Yg)}const Jg=x("ZodNever",(e,t)=>{Fp.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>Xm(e,n,s)});function Qg(e){return zm(Jg,e)}const ey=x("ZodArray",(e,t)=>{jp.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>tg(e,n,s,i),e.element=t.element,e.min=(n,s)=>e.check(qt(n,s)),e.nonempty=n=>e.check(qt(1,n)),e.max=(n,s)=>e.check(nc(n,s)),e.length=(n,s)=>e.check(sc(n,s)),e.unwrap=()=>e.element});function ty(e,t){return Bm(ey,e,t)}const ny=x("ZodObject",(e,t)=>{Zp.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>ng(e,n,s,i),R(e,"shape",()=>t.shape),e.keyof=()=>ay(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Tr()}),e.loose=()=>e.clone({...e._zod.def,catchall:Tr()}),e.strict=()=>e.clone({...e._zod.def,catchall:Qg()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>dd(e,n),e.safeExtend=n=>pd(e,n),e.merge=n=>md(e,n),e.pick=n=>hd(e,n),e.omit=n=>fd(e,n),e.partial=(...n)=>gd(uc,e,n[0]),e.required=(...n)=>yd(lc,e,n[0])});function P1(e,t){const n={type:"object",shape:e??{},...z(t)};return new ny(n)}const sy=x("ZodUnion",(e,t)=>{Bp.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>sg(e,n,s,i),e.options=t.options});function iy(e,t){return new sy({type:"union",options:e,...z(t)})}const ry=x("ZodIntersection",(e,t)=>{Up.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>ig(e,n,s,i)});function oy(e,t){return new ry({type:"intersection",left:e,right:t})}const rs=x("ZodEnum",(e,t)=>{Wp.init(e,t),H.init(e,t),e._zod.processJSONSchema=(s,i,o)=>Jm(e,s,i),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(s,i)=>{const o={};for(const r of s)if(n.has(r))o[r]=t.entries[r];else throw new Error(`Key ${r} not found in enum`);return new rs({...t,checks:[],...z(i),entries:o})},e.exclude=(s,i)=>{const o={...t.entries};for(const r of s)if(n.has(r))delete o[r];else throw new Error(`Key ${r} not found in enum`);return new rs({...t,checks:[],...z(i),entries:o})}});function ay(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new rs({type:"enum",entries:n,...z(t)})}const cy=x("ZodTransform",(e,t)=>{Gp.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>eg(e,n),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new Za(e.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(bt(o,n.value,t));else{const r=o;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=e),n.issues.push(bt(r))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(o=>(n.value=o,n)):(n.value=i,n)}});function uy(e){return new cy({type:"transform",transform:e})}const uc=x("ZodOptional",(e,t)=>{tc.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>ac(e,n,s,i),e.unwrap=()=>e._zod.def.innerType});function Sr(e){return new uc({type:"optional",innerType:e})}const ly=x("ZodExactOptional",(e,t)=>{Kp.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>ac(e,n,s,i),e.unwrap=()=>e._zod.def.innerType});function hy(e){return new ly({type:"optional",innerType:e})}const fy=x("ZodNullable",(e,t)=>{qp.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>rg(e,n,s,i),e.unwrap=()=>e._zod.def.innerType});function Ar(e){return new fy({type:"nullable",innerType:e})}const dy=x("ZodDefault",(e,t)=>{Hp.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>ag(e,n,s,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function py(e,t){return new dy({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Ga(t)}})}const my=x("ZodPrefault",(e,t)=>{Xp.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>cg(e,n,s,i),e.unwrap=()=>e._zod.def.innerType});function gy(e,t){return new my({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Ga(t)}})}const lc=x("ZodNonOptional",(e,t)=>{Yp.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>og(e,n,s,i),e.unwrap=()=>e._zod.def.innerType});function yy(e,t){return new lc({type:"nonoptional",innerType:e,...z(t)})}const vy=x("ZodCatch",(e,t)=>{Jp.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>ug(e,n,s,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function by(e,t){return new vy({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const wy=x("ZodPipe",(e,t)=>{Qp.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>lg(e,n,s,i),e.in=t.in,e.out=t.out});function Er(e,t){return new wy({type:"pipe",in:e,out:t})}const xy=x("ZodReadonly",(e,t)=>{em.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>hg(e,n,s,i),e.unwrap=()=>e._zod.def.innerType});function _y(e){return new xy({type:"readonly",innerType:e})}const Ty=x("ZodCustom",(e,t)=>{tm.init(e,t),H.init(e,t),e._zod.processJSONSchema=(n,s,i)=>Qm(e,n)});function Sy(e,t={}){return Um(Ty,e,t)}function Ay(e){return Wm(e)}const Pr=(e,t,n)=>{if(e&&"reportValidity"in e){const s=Vn(n,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},os=(e,t)=>{for(const n in t.fields){const s=t.fields[n];s&&s.ref&&"reportValidity"in s.ref?Pr(s.ref,n,e):s&&s.refs&&s.refs.forEach(i=>Pr(i,n,e))}},kr=(e,t)=>{t.shouldUseNativeValidation&&os(e,t);const n={};for(const s in e){const i=Vn(t.fields,s),o=Object.assign(e[s]||{},{ref:i&&i.ref});if(Ey(t.names||Object.keys(e),s)){const r=Object.assign({},Vn(n,s));hn(r,"root",o),hn(n,s,r)}else hn(n,s,o)}return n},Ey=(e,t)=>{const n=Cr(t);return e.some(s=>Cr(s).match(`^${n}\\.\\d+`))};function Cr(e){return e.replace(/\]|\[/g,"")}function Mr(e,t){try{var n=e()}catch(s){return t(s)}return n&&n.then?n.then(void 0,t):n}function Py(e,t){for(var n={};e.length;){var s=e[0],i=s.code,o=s.message,r=s.path.join(".");if(!n[r])if("unionErrors"in s){var a=s.unionErrors[0].errors[0];n[r]={message:a.message,type:a.code}}else n[r]={message:o,type:i};if("unionErrors"in s&&s.unionErrors.forEach(function(l){return l.errors.forEach(function(h){return e.push(h)})}),t){var c=n[r].types,u=c&&c[s.code];n[r]=no(r,t,n,i,u?[].concat(u,s.message):s.message)}e.shift()}return n}function ky(e,t){for(var n={};e.length;){var s=e[0],i=s.code,o=s.message,r=s.path.join(".");if(!n[r])if(s.code==="invalid_union"&&s.errors.length>0){var a=s.errors[0][0];n[r]={message:a.message,type:a.code}}else n[r]={message:o,type:i};if(s.code==="invalid_union"&&s.errors.forEach(function(l){return l.forEach(function(h){return e.push(h)})}),t){var c=n[r].types,u=c&&c[s.code];n[r]=no(r,t,n,i,u?[].concat(u,s.message):s.message)}e.shift()}return n}function k1(e,t,n){if(n===void 0&&(n={}),(function(s){return"_def"in s&&typeof s._def=="object"&&"typeName"in s._def})(e))return function(s,i,o){try{return Promise.resolve(Mr(function(){return Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(r){return o.shouldUseNativeValidation&&os({},o),{errors:{},values:n.raw?Object.assign({},s):r}})},function(r){if((function(a){return Array.isArray(a?.issues)})(r))return{values:{},errors:kr(Py(r.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw r}))}catch(r){return Promise.reject(r)}};if((function(s){return"_zod"in s&&typeof s._zod=="object"})(e))return function(s,i,o){try{return Promise.resolve(Mr(function(){return Promise.resolve((n.mode==="sync"?wd:xd)(e,s,t)).then(function(r){return o.shouldUseNativeValidation&&os({},o),{errors:{},values:n.raw?Object.assign({},s):r}})},function(r){if((function(a){return a instanceof Us})(r))return{values:{},errors:kr(ky(r.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw r}))}catch(r){return Promise.reject(r)}};throw new Error("Invalid input: not a Zod schema")}function ft(e){let t=e[0],n=e[1],s=e[2];return Math.sqrt(t*t+n*n+s*s)}function as(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Cy(e,t,n,s){return e[0]=t,e[1]=n,e[2]=s,e}function zr(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Or(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function My(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function zy(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function kn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function Oy(e,t){let n=t[0]-e[0],s=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+s*s+i*i)}function Dy(e,t){let n=t[0]-e[0],s=t[1]-e[1],i=t[2]-e[2];return n*n+s*s+i*i}function Dr(e){let t=e[0],n=e[1],s=e[2];return t*t+n*n+s*s}function Vy(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function Ry(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function cs(e,t){let n=t[0],s=t[1],i=t[2],o=n*n+s*s+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function hc(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Vr(e,t,n){let s=t[0],i=t[1],o=t[2],r=n[0],a=n[1],c=n[2];return e[0]=i*c-o*a,e[1]=o*r-s*c,e[2]=s*a-i*r,e}function Iy(e,t,n,s){let i=t[0],o=t[1],r=t[2];return e[0]=i+s*(n[0]-i),e[1]=o+s*(n[1]-o),e[2]=r+s*(n[2]-r),e}function $y(e,t,n,s,i){const o=Math.exp(-s*i);let r=t[0],a=t[1],c=t[2];return e[0]=n[0]+(r-n[0])*o,e[1]=n[1]+(a-n[1])*o,e[2]=n[2]+(c-n[2])*o,e}function Ly(e,t,n){let s=t[0],i=t[1],o=t[2],r=n[3]*s+n[7]*i+n[11]*o+n[15];return r=r||1,e[0]=(n[0]*s+n[4]*i+n[8]*o+n[12])/r,e[1]=(n[1]*s+n[5]*i+n[9]*o+n[13])/r,e[2]=(n[2]*s+n[6]*i+n[10]*o+n[14])/r,e}function Fy(e,t,n){let s=t[0],i=t[1],o=t[2],r=n[3]*s+n[7]*i+n[11]*o+n[15];return r=r||1,e[0]=(n[0]*s+n[4]*i+n[8]*o)/r,e[1]=(n[1]*s+n[5]*i+n[9]*o)/r,e[2]=(n[2]*s+n[6]*i+n[10]*o)/r,e}function jy(e,t,n){let s=t[0],i=t[1],o=t[2];return e[0]=s*n[0]+i*n[3]+o*n[6],e[1]=s*n[1]+i*n[4]+o*n[7],e[2]=s*n[2]+i*n[5]+o*n[8],e}function Ny(e,t,n){let s=t[0],i=t[1],o=t[2],r=n[0],a=n[1],c=n[2],u=n[3],l=a*o-c*i,h=c*s-r*o,f=r*i-a*s,d=a*f-c*h,p=c*l-r*f,m=r*h-a*l,g=u*2;return l*=g,h*=g,f*=g,d*=2,p*=2,m*=2,e[0]=s+l+d,e[1]=i+h+p,e[2]=o+f+m,e}const Zy=(function(){const e=[0,0,0],t=[0,0,0];return function(n,s){as(e,n),as(t,s),cs(e,e),cs(t,t);let i=hc(e,t);return i>1?0:i<-1?Math.PI:Math.acos(i)}})();function By(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}class he extends Array{constructor(t=0,n=t,s=t){return super(t,n,s),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,n=t,s=t){return t.length?this.copy(t):(Cy(this,t,n,s),this)}copy(t){return as(this,t),this}add(t,n){return n?zr(this,t,n):zr(this,this,t),this}sub(t,n){return n?Or(this,t,n):Or(this,this,t),this}multiply(t){return t.length?My(this,this,t):kn(this,this,t),this}divide(t){return t.length?zy(this,this,t):kn(this,this,1/t),this}inverse(t=this){return Ry(this,t),this}len(){return ft(this)}distance(t){return t?Oy(this,t):ft(this)}squaredLen(){return Dr(this)}squaredDistance(t){return t?Dy(this,t):Dr(this)}negate(t=this){return Vy(this,t),this}cross(t,n){return n?Vr(this,t,n):Vr(this,this,t),this}scale(t){return kn(this,this,t),this}normalize(){return cs(this,this),this}dot(t){return hc(this,t)}equals(t){return By(this,t)}applyMatrix3(t){return jy(this,this,t),this}applyMatrix4(t){return Ly(this,this,t),this}scaleRotateMatrix4(t){return Fy(this,this,t),this}applyQuaternion(t){return Ny(this,this,t),this}angle(t){return Zy(this,t)}lerp(t,n){return Iy(this,this,t,n),this}smoothLerp(t,n,s){return $y(this,this,t,n,s),this}clone(){return new he(this[0],this[1],this[2])}fromArray(t,n=0){return this[0]=t[n],this[1]=t[n+1],this[2]=t[n+2],this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t}transformDirection(t){const n=this[0],s=this[1],i=this[2];return this[0]=t[0]*n+t[4]*s+t[8]*i,this[1]=t[1]*n+t[5]*s+t[9]*i,this[2]=t[2]*n+t[6]*s+t[10]*i,this.normalize()}}const Rr=new he;let Uy=1,Wy=1,Ir=!1;class Gy{constructor(t,n={}){t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=n,this.id=Uy++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let s in n)this.addAttribute(s,n[s])}addAttribute(t,n){if(this.attributes[t]=n,n.id=Wy++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=t==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else t==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(t){const n=!t.buffer;n&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),n?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,n){this.drawRange.start=t,this.drawRange.count=n}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((n,{name:s,type:i})=>{if(!this.attributes[s]){console.warn(`active attribute ${s} not being supplied`);return}const o=this.attributes[s];this.gl.bindBuffer(o.target,o.buffer),this.glState.boundBuffer=o.buffer;let r=1;i===35674&&(r=2),i===35675&&(r=3),i===35676&&(r=4);const a=o.size/r,c=r===1?0:r*r*4,u=r===1?0:r*4;for(let l=0;l<r;l++)this.gl.vertexAttribPointer(n+l,a,o.type,o.normalized,o.stride+c,o.offset+l*u),this.gl.enableVertexAttribArray(n+l),this.gl.renderer.vertexAttribDivisor(n+l,o.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:n=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((i,{name:o})=>{const r=this.attributes[o];r.needsUpdate&&this.updateAttribute(r)});let s=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(s=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const t=this.attributes.position;if(t.data)return t;if(!Ir)return console.warn("No position buffer data found to compute bounds"),Ir=!0}computeBoundingBox(t){t||(t=this.getPosition());const n=t.data,s=t.size;this.bounds||(this.bounds={min:new he,max:new he,center:new he,scale:new he,radius:1/0});const i=this.bounds.min,o=this.bounds.max,r=this.bounds.center,a=this.bounds.scale;i.set(1/0),o.set(-1/0);for(let c=0,u=n.length;c<u;c+=s){const l=n[c],h=n[c+1],f=n[c+2];i.x=Math.min(l,i.x),i.y=Math.min(h,i.y),i.z=Math.min(f,i.z),o.x=Math.max(l,o.x),o.y=Math.max(h,o.y),o.z=Math.max(f,o.z)}a.sub(o,i),r.add(i,o).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());const n=t.data,s=t.size;this.bounds||this.computeBoundingBox(t);let i=0;for(let o=0,r=n.length;o<r;o+=s)Rr.fromArray(n,o),i=Math.max(i,this.bounds.center.squaredDistance(Rr));this.bounds.radius=Math.sqrt(i)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}let Ky=1;const $r={};class C1{constructor(t,{vertex:n,fragment:s,uniforms:i={},transparent:o=!1,cullFace:r=t.BACK,frontFace:a=t.CCW,depthTest:c=!0,depthWrite:u=!0,depthFunc:l=t.LEQUAL}={}){t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=i,this.id=Ky++,n||console.warn("vertex shader not supplied"),s||console.warn("fragment shader not supplied"),this.transparent=o,this.cullFace=r,this.frontFace=a,this.depthTest=c,this.depthWrite=u,this.depthFunc=l,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=t.createShader(t.VERTEX_SHADER),this.fragmentShader=t.createShader(t.FRAGMENT_SHADER),this.program=t.createProgram(),t.attachShader(this.program,this.vertexShader),t.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:s})}setShaders({vertex:t,fragment:n}){if(t&&(this.gl.shaderSource(this.vertexShader,t),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${Lr(t)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${Lr(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let r=0;r<s;r++){let a=this.gl.getActiveUniform(this.program,r);this.uniformLocations.set(a,this.gl.getUniformLocation(this.program,a.name));const c=a.name.match(/(\w+)/g);a.uniformName=c[0],a.nameComponents=c.slice(1)}this.attributeLocations=new Map;const i=[],o=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let r=0;r<o;r++){const a=this.gl.getActiveAttrib(this.program,r),c=this.gl.getAttribLocation(this.program,a.name);c!==-1&&(i[c]=a.name,this.attributeLocations.set(a,c))}this.attributeOrder=i.join("")}setBlendFunc(t,n,s,i){this.blendFunc.src=t,this.blendFunc.dst=n,this.blendFunc.srcAlpha=s,this.blendFunc.dstAlpha=i,t&&(this.transparent=!0)}setBlendEquation(t,n){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=n}setStencilFunc(t,n,s){this.stencilRef=n,this.stencilFunc.func=t,this.stencilFunc.ref=n,this.stencilFunc.mask=s}setStencilOp(t,n,s){this.stencilOp.stencilFail=t,this.stencilOp.depthFail=n,this.stencilOp.depthPass=s}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:t=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,o)=>{let r=this.uniforms[o.uniformName];for(const a of o.nameComponents){if(!r)break;if(a in r)r=r[a];else{if(Array.isArray(r.value))break;r=void 0;break}}if(!r)return Fr(`Active uniform ${o.name} has not been supplied`);if(r&&r.value===void 0)return Fr(`${o.name} uniform is missing a value parameter`);if(r.value.texture)return n=n+1,r.value.update(n),Cn(this.gl,o.type,i,n);if(r.value.length&&r.value[0].texture){const a=[];return r.value.forEach(c=>{n=n+1,c.update(n),a.push(n)}),Cn(this.gl,o.type,i,a)}Cn(this.gl,o.type,i,r.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function Cn(e,t,n,s){s=s.length?qy(s):s;const i=e.renderer.state.uniformLocations.get(n);if(s.length)if(i===void 0||i.length!==s.length)e.renderer.state.uniformLocations.set(n,s.slice(0));else{if(Hy(i,s))return;i.set?i.set(s):Xy(i,s),e.renderer.state.uniformLocations.set(n,i)}else{if(i===s)return;e.renderer.state.uniformLocations.set(n,s)}switch(t){case 5126:return s.length?e.uniform1fv(n,s):e.uniform1f(n,s);case 35664:return e.uniform2fv(n,s);case 35665:return e.uniform3fv(n,s);case 35666:return e.uniform4fv(n,s);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return s.length?e.uniform1iv(n,s):e.uniform1i(n,s);case 35671:case 35667:return e.uniform2iv(n,s);case 35672:case 35668:return e.uniform3iv(n,s);case 35673:case 35669:return e.uniform4iv(n,s);case 35674:return e.uniformMatrix2fv(n,!1,s);case 35675:return e.uniformMatrix3fv(n,!1,s);case 35676:return e.uniformMatrix4fv(n,!1,s)}}function Lr(e){let t=e.split(`
`);for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function qy(e){const t=e.length,n=e[0].length;if(n===void 0)return e;const s=t*n;let i=$r[s];i||($r[s]=i=new Float32Array(s));for(let o=0;o<t;o++)i.set(e[o],o*n);return i}function Hy(e,t){if(e.length!==t.length)return!1;for(let n=0,s=e.length;n<s;n++)if(e[n]!==t[n])return!1;return!0}function Xy(e,t){for(let n=0,s=e.length;n<s;n++)e[n]=t[n]}let Mn=0;function Fr(e){Mn>100||(console.warn(e),Mn++,Mn>100&&console.warn("More than 100 program warnings - stopping logs."))}const zn=new he;let Yy=1;class M1{constructor({canvas:t=document.createElement("canvas"),width:n=300,height:s=150,dpr:i=1,alpha:o=!1,depth:r=!0,stencil:a=!1,antialias:c=!1,premultipliedAlpha:u=!1,preserveDrawingBuffer:l=!1,powerPreference:h="default",autoClear:f=!0,webgl:d=2}={}){const p={alpha:o,depth:r,stencil:a,antialias:c,premultipliedAlpha:u,preserveDrawingBuffer:l,powerPreference:h};this.dpr=i,this.alpha=o,this.color=!0,this.depth=r,this.stencil=a,this.premultipliedAlpha=u,this.autoClear=f,this.id=Yy++,d===2&&(this.gl=t.getContext("webgl2",p)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",p)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,s),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,n){this.width=t,this.height=n,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:t+"px",height:n+"px"})}setViewport(t,n,s=0,i=0){this.state.viewport.width===t&&this.state.viewport.height===n||(this.state.viewport.width=t,this.state.viewport.height=n,this.state.viewport.x=s,this.state.viewport.y=i,this.gl.viewport(s,i,t,n))}setScissor(t,n,s=0,i=0){this.gl.scissor(s,i,t,n)}enable(t){this.state[t]!==!0&&(this.gl.enable(t),this.state[t]=!0)}disable(t){this.state[t]!==!1&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,n,s,i){this.state.blendFunc.src===t&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===s&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=t,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=s,this.state.blendFunc.dstAlpha=i,s!==void 0?this.gl.blendFuncSeparate(t,n,s,i):this.gl.blendFunc(t,n))}setBlendEquation(t,n){t=t||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(t,n):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}setStencilMask(t){this.state.stencilMask!==t&&(this.state.stencilMask=t,this.gl.stencilMask(t))}setStencilFunc(t,n,s){this.state.stencilFunc===t&&this.state.stencilRef===n&&this.state.stencilFuncMask===s||(this.state.stencilFunc=t||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=s||0,this.gl.stencilFunc(t||this.gl.ALWAYS,n||0,s||0))}setStencilOp(t,n,s){this.state.stencilFail===t&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===s||(this.state.stencilFail=t,this.state.stencilDepthFail=n,this.state.stencilDepthPass=s,this.gl.stencilOp(t,n,s))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(t,n))}getExtension(t,n,s){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),n?this.extensions[t]?this.extensions[t][s].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,n){return t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.program.id!==n.program.id?t.program.id-n.program.id:t.zDepth!==n.zDepth?t.zDepth-n.zDepth:n.id-t.id}sortTransparent(t,n){return t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.zDepth!==n.zDepth?n.zDepth-t.zDepth:n.id-t.id}sortUI(t,n){return t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.program.id!==n.program.id?t.program.id-n.program.id:n.id-t.id}getRenderList({scene:t,camera:n,frustumCull:s,sort:i}){let o=[];if(n&&s&&n.updateFrustum(),t.traverse(r=>{if(!r.visible)return!0;r.draw&&(s&&r.frustumCulled&&n&&!n.frustumIntersectsMesh(r)||o.push(r))}),i){const r=[],a=[],c=[];o.forEach(u=>{u.program.transparent?u.program.depthTest?a.push(u):c.push(u):r.push(u),u.zDepth=0,!(u.renderOrder!==0||!u.program.depthTest||!n)&&(u.worldMatrix.getTranslation(zn),zn.applyMatrix4(n.projectionViewMatrix),u.zDepth=zn.z)}),r.sort(this.sortOpaque),a.sort(this.sortTransparent),c.sort(this.sortUI),o=r.concat(a,c)}return o}render({scene:t,camera:n,target:s=null,update:i=!0,sort:o=!0,frustumCull:r=!0,clear:a}){s===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(s),this.setViewport(s.width,s.height)),(a||this.autoClear&&a!==!1)&&(this.depth&&(!s||s.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!s||s.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&t.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:t,camera:n,frustumCull:r,sort:o}).forEach(u=>{u.draw({camera:n})})}}function Jy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Qy(e,t,n,s,i){return e[0]=t,e[1]=n,e[2]=s,e[3]=i,e}function e0(e,t){let n=t[0],s=t[1],i=t[2],o=t[3],r=n*n+s*s+i*i+o*o;return r>0&&(r=1/Math.sqrt(r)),e[0]=n*r,e[1]=s*r,e[2]=i*r,e[3]=o*r,e}function t0(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function n0(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function s0(e,t,n){n=n*.5;let s=Math.sin(n);return e[0]=s*t[0],e[1]=s*t[1],e[2]=s*t[2],e[3]=Math.cos(n),e}function jr(e,t,n){let s=t[0],i=t[1],o=t[2],r=t[3],a=n[0],c=n[1],u=n[2],l=n[3];return e[0]=s*l+r*a+i*u-o*c,e[1]=i*l+r*c+o*a-s*u,e[2]=o*l+r*u+s*c-i*a,e[3]=r*l-s*a-i*c-o*u,e}function i0(e,t,n){n*=.5;let s=t[0],i=t[1],o=t[2],r=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=s*c+r*a,e[1]=i*c+o*a,e[2]=o*c-i*a,e[3]=r*c-s*a,e}function r0(e,t,n){n*=.5;let s=t[0],i=t[1],o=t[2],r=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=s*c-o*a,e[1]=i*c+r*a,e[2]=o*c+s*a,e[3]=r*c-i*a,e}function o0(e,t,n){n*=.5;let s=t[0],i=t[1],o=t[2],r=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=s*c+i*a,e[1]=i*c-s*a,e[2]=o*c+r*a,e[3]=r*c-o*a,e}function a0(e,t,n,s){let i=t[0],o=t[1],r=t[2],a=t[3],c=n[0],u=n[1],l=n[2],h=n[3],f,d,p,m,g;return d=i*c+o*u+r*l+a*h,d<0&&(d=-d,c=-c,u=-u,l=-l,h=-h),1-d>1e-6?(f=Math.acos(d),p=Math.sin(f),m=Math.sin((1-s)*f)/p,g=Math.sin(s*f)/p):(m=1-s,g=s),e[0]=m*i+g*c,e[1]=m*o+g*u,e[2]=m*r+g*l,e[3]=m*a+g*h,e}function c0(e,t){let n=t[0],s=t[1],i=t[2],o=t[3],r=n*n+s*s+i*i+o*o,a=r?1/r:0;return e[0]=-n*a,e[1]=-s*a,e[2]=-i*a,e[3]=o*a,e}function u0(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function l0(e,t){let n=t[0]+t[4]+t[8],s;if(n>0)s=Math.sqrt(n+1),e[3]=.5*s,s=.5/s,e[0]=(t[5]-t[7])*s,e[1]=(t[6]-t[2])*s,e[2]=(t[1]-t[3])*s;else{let i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);let o=(i+1)%3,r=(i+2)%3;s=Math.sqrt(t[i*3+i]-t[o*3+o]-t[r*3+r]+1),e[i]=.5*s,s=.5/s,e[3]=(t[o*3+r]-t[r*3+o])*s,e[o]=(t[o*3+i]+t[i*3+o])*s,e[r]=(t[r*3+i]+t[i*3+r])*s}return e}function h0(e,t,n="YXZ"){let s=Math.sin(t[0]*.5),i=Math.cos(t[0]*.5),o=Math.sin(t[1]*.5),r=Math.cos(t[1]*.5),a=Math.sin(t[2]*.5),c=Math.cos(t[2]*.5);return n==="XYZ"?(e[0]=s*r*c+i*o*a,e[1]=i*o*c-s*r*a,e[2]=i*r*a+s*o*c,e[3]=i*r*c-s*o*a):n==="YXZ"?(e[0]=s*r*c+i*o*a,e[1]=i*o*c-s*r*a,e[2]=i*r*a-s*o*c,e[3]=i*r*c+s*o*a):n==="ZXY"?(e[0]=s*r*c-i*o*a,e[1]=i*o*c+s*r*a,e[2]=i*r*a+s*o*c,e[3]=i*r*c-s*o*a):n==="ZYX"?(e[0]=s*r*c-i*o*a,e[1]=i*o*c+s*r*a,e[2]=i*r*a-s*o*c,e[3]=i*r*c+s*o*a):n==="YZX"?(e[0]=s*r*c+i*o*a,e[1]=i*o*c+s*r*a,e[2]=i*r*a-s*o*c,e[3]=i*r*c-s*o*a):n==="XZY"&&(e[0]=s*r*c-i*o*a,e[1]=i*o*c-s*r*a,e[2]=i*r*a+s*o*c,e[3]=i*r*c+s*o*a),e}const f0=Jy,d0=Qy,p0=t0,m0=e0;class g0 extends Array{constructor(t=0,n=0,s=0,i=1){super(t,n,s,i),this.onChange=()=>{},this._target=this;const o=["0","1","2","3"];return new Proxy(this,{set(r,a){const c=Reflect.set(...arguments);return c&&o.includes(a)&&r.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set w(t){this._target[3]=t,this.onChange()}identity(){return n0(this._target),this.onChange(),this}set(t,n,s,i){return t.length?this.copy(t):(d0(this._target,t,n,s,i),this.onChange(),this)}rotateX(t){return i0(this._target,this._target,t),this.onChange(),this}rotateY(t){return r0(this._target,this._target,t),this.onChange(),this}rotateZ(t){return o0(this._target,this._target,t),this.onChange(),this}inverse(t=this._target){return c0(this._target,t),this.onChange(),this}conjugate(t=this._target){return u0(this._target,t),this.onChange(),this}copy(t){return f0(this._target,t),this.onChange(),this}normalize(t=this._target){return m0(this._target,t),this.onChange(),this}multiply(t,n){return n?jr(this._target,t,n):jr(this._target,this._target,t),this.onChange(),this}dot(t){return p0(this._target,t)}fromMatrix3(t){return l0(this._target,t),this.onChange(),this}fromEuler(t,n){return h0(this._target,t,t.order),n||this.onChange(),this}fromAxisAngle(t,n){return s0(this._target,t,n),this.onChange(),this}slerp(t,n){return a0(this._target,this._target,t,n),this.onChange(),this}fromArray(t,n=0){return this._target[0]=t[n],this._target[1]=t[n+1],this._target[2]=t[n+2],this._target[3]=t[n+3],this.onChange(),this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t[n+3]=this[3],t}}const y0=1e-6;function v0(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function b0(e,t,n,s,i,o,r,a,c,u,l,h,f,d,p,m,g){return e[0]=t,e[1]=n,e[2]=s,e[3]=i,e[4]=o,e[5]=r,e[6]=a,e[7]=c,e[8]=u,e[9]=l,e[10]=h,e[11]=f,e[12]=d,e[13]=p,e[14]=m,e[15]=g,e}function w0(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function x0(e,t){let n=t[0],s=t[1],i=t[2],o=t[3],r=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=t[9],f=t[10],d=t[11],p=t[12],m=t[13],g=t[14],y=t[15],S=n*a-s*r,b=n*c-i*r,_=n*u-o*r,v=s*c-i*a,w=s*u-o*a,A=i*u-o*c,T=l*m-h*p,k=l*g-f*p,M=l*y-d*p,D=h*g-f*m,O=h*y-d*m,V=f*y-d*g,C=S*V-b*O+_*D+v*M-w*k+A*T;return C?(C=1/C,e[0]=(a*V-c*O+u*D)*C,e[1]=(i*O-s*V-o*D)*C,e[2]=(m*A-g*w+y*v)*C,e[3]=(f*w-h*A-d*v)*C,e[4]=(c*M-r*V-u*k)*C,e[5]=(n*V-i*M+o*k)*C,e[6]=(g*_-p*A-y*b)*C,e[7]=(l*A-f*_+d*b)*C,e[8]=(r*O-a*M+u*T)*C,e[9]=(s*M-n*O-o*T)*C,e[10]=(p*w-m*_+y*S)*C,e[11]=(h*_-l*w-d*S)*C,e[12]=(a*k-r*D-c*T)*C,e[13]=(n*D-s*k+i*T)*C,e[14]=(m*b-p*v-g*S)*C,e[15]=(l*v-h*b+f*S)*C,e):null}function fc(e){let t=e[0],n=e[1],s=e[2],i=e[3],o=e[4],r=e[5],a=e[6],c=e[7],u=e[8],l=e[9],h=e[10],f=e[11],d=e[12],p=e[13],m=e[14],g=e[15],y=t*r-n*o,S=t*a-s*o,b=t*c-i*o,_=n*a-s*r,v=n*c-i*r,w=s*c-i*a,A=u*p-l*d,T=u*m-h*d,k=u*g-f*d,M=l*m-h*p,D=l*g-f*p,O=h*g-f*m;return y*O-S*D+b*M+_*k-v*T+w*A}function Nr(e,t,n){let s=t[0],i=t[1],o=t[2],r=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=t[8],f=t[9],d=t[10],p=t[11],m=t[12],g=t[13],y=t[14],S=t[15],b=n[0],_=n[1],v=n[2],w=n[3];return e[0]=b*s+_*a+v*h+w*m,e[1]=b*i+_*c+v*f+w*g,e[2]=b*o+_*u+v*d+w*y,e[3]=b*r+_*l+v*p+w*S,b=n[4],_=n[5],v=n[6],w=n[7],e[4]=b*s+_*a+v*h+w*m,e[5]=b*i+_*c+v*f+w*g,e[6]=b*o+_*u+v*d+w*y,e[7]=b*r+_*l+v*p+w*S,b=n[8],_=n[9],v=n[10],w=n[11],e[8]=b*s+_*a+v*h+w*m,e[9]=b*i+_*c+v*f+w*g,e[10]=b*o+_*u+v*d+w*y,e[11]=b*r+_*l+v*p+w*S,b=n[12],_=n[13],v=n[14],w=n[15],e[12]=b*s+_*a+v*h+w*m,e[13]=b*i+_*c+v*f+w*g,e[14]=b*o+_*u+v*d+w*y,e[15]=b*r+_*l+v*p+w*S,e}function _0(e,t,n){let s=n[0],i=n[1],o=n[2],r,a,c,u,l,h,f,d,p,m,g,y;return t===e?(e[12]=t[0]*s+t[4]*i+t[8]*o+t[12],e[13]=t[1]*s+t[5]*i+t[9]*o+t[13],e[14]=t[2]*s+t[6]*i+t[10]*o+t[14],e[15]=t[3]*s+t[7]*i+t[11]*o+t[15]):(r=t[0],a=t[1],c=t[2],u=t[3],l=t[4],h=t[5],f=t[6],d=t[7],p=t[8],m=t[9],g=t[10],y=t[11],e[0]=r,e[1]=a,e[2]=c,e[3]=u,e[4]=l,e[5]=h,e[6]=f,e[7]=d,e[8]=p,e[9]=m,e[10]=g,e[11]=y,e[12]=r*s+l*i+p*o+t[12],e[13]=a*s+h*i+m*o+t[13],e[14]=c*s+f*i+g*o+t[14],e[15]=u*s+d*i+y*o+t[15]),e}function T0(e,t,n){let s=n[0],i=n[1],o=n[2];return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function S0(e,t,n,s){let i=s[0],o=s[1],r=s[2],a=Math.hypot(i,o,r),c,u,l,h,f,d,p,m,g,y,S,b,_,v,w,A,T,k,M,D,O,V,C,Y;return Math.abs(a)<y0?null:(a=1/a,i*=a,o*=a,r*=a,c=Math.sin(n),u=Math.cos(n),l=1-u,h=t[0],f=t[1],d=t[2],p=t[3],m=t[4],g=t[5],y=t[6],S=t[7],b=t[8],_=t[9],v=t[10],w=t[11],A=i*i*l+u,T=o*i*l+r*c,k=r*i*l-o*c,M=i*o*l-r*c,D=o*o*l+u,O=r*o*l+i*c,V=i*r*l+o*c,C=o*r*l-i*c,Y=r*r*l+u,e[0]=h*A+m*T+b*k,e[1]=f*A+g*T+_*k,e[2]=d*A+y*T+v*k,e[3]=p*A+S*T+w*k,e[4]=h*M+m*D+b*O,e[5]=f*M+g*D+_*O,e[6]=d*M+y*D+v*O,e[7]=p*M+S*D+w*O,e[8]=h*V+m*C+b*Y,e[9]=f*V+g*C+_*Y,e[10]=d*V+y*C+v*Y,e[11]=p*V+S*C+w*Y,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function A0(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function dc(e,t){let n=t[0],s=t[1],i=t[2],o=t[4],r=t[5],a=t[6],c=t[8],u=t[9],l=t[10];return e[0]=Math.hypot(n,s,i),e[1]=Math.hypot(o,r,a),e[2]=Math.hypot(c,u,l),e}function E0(e){let t=e[0],n=e[1],s=e[2],i=e[4],o=e[5],r=e[6],a=e[8],c=e[9],u=e[10];const l=t*t+n*n+s*s,h=i*i+o*o+r*r,f=a*a+c*c+u*u;return Math.sqrt(Math.max(l,h,f))}const pc=(function(){const e=[1,1,1];return function(t,n){let s=e;dc(s,n);let i=1/s[0],o=1/s[1],r=1/s[2],a=n[0]*i,c=n[1]*o,u=n[2]*r,l=n[4]*i,h=n[5]*o,f=n[6]*r,d=n[8]*i,p=n[9]*o,m=n[10]*r,g=a+h+m,y=0;return g>0?(y=Math.sqrt(g+1)*2,t[3]=.25*y,t[0]=(f-p)/y,t[1]=(d-u)/y,t[2]=(c-l)/y):a>h&&a>m?(y=Math.sqrt(1+a-h-m)*2,t[3]=(f-p)/y,t[0]=.25*y,t[1]=(c+l)/y,t[2]=(d+u)/y):h>m?(y=Math.sqrt(1+h-a-m)*2,t[3]=(d-u)/y,t[0]=(c+l)/y,t[1]=.25*y,t[2]=(f+p)/y):(y=Math.sqrt(1+m-a-h)*2,t[3]=(c-l)/y,t[0]=(d+u)/y,t[1]=(f+p)/y,t[2]=.25*y),t}})();function P0(e,t,n,s){let i=ft([e[0],e[1],e[2]]);const o=ft([e[4],e[5],e[6]]),r=ft([e[8],e[9],e[10]]);fc(e)<0&&(i=-i),n[0]=e[12],n[1]=e[13],n[2]=e[14];const c=e.slice(),u=1/i,l=1/o,h=1/r;c[0]*=u,c[1]*=u,c[2]*=u,c[4]*=l,c[5]*=l,c[6]*=l,c[8]*=h,c[9]*=h,c[10]*=h,pc(t,c),s[0]=i,s[1]=o,s[2]=r}function k0(e,t,n,s){const i=e,o=t[0],r=t[1],a=t[2],c=t[3],u=o+o,l=r+r,h=a+a,f=o*u,d=o*l,p=o*h,m=r*l,g=r*h,y=a*h,S=c*u,b=c*l,_=c*h,v=s[0],w=s[1],A=s[2];return i[0]=(1-(m+y))*v,i[1]=(d+_)*v,i[2]=(p-b)*v,i[3]=0,i[4]=(d-_)*w,i[5]=(1-(f+y))*w,i[6]=(g+S)*w,i[7]=0,i[8]=(p+b)*A,i[9]=(g-S)*A,i[10]=(1-(f+m))*A,i[11]=0,i[12]=n[0],i[13]=n[1],i[14]=n[2],i[15]=1,i}function C0(e,t){let n=t[0],s=t[1],i=t[2],o=t[3],r=n+n,a=s+s,c=i+i,u=n*r,l=s*r,h=s*a,f=i*r,d=i*a,p=i*c,m=o*r,g=o*a,y=o*c;return e[0]=1-h-p,e[1]=l+y,e[2]=f-g,e[3]=0,e[4]=l-y,e[5]=1-u-p,e[6]=d+m,e[7]=0,e[8]=f+g,e[9]=d-m,e[10]=1-u-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function M0(e,t,n,s,i){let o=1/Math.tan(t/2),r=1/(s-i);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+s)*r,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*s*r,e[15]=0,e}function z0(e,t,n,s,i,o,r){let a=1/(t-n),c=1/(s-i),u=1/(o-r);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*a,e[13]=(i+s)*c,e[14]=(r+o)*u,e[15]=1,e}function O0(e,t,n,s){let i=t[0],o=t[1],r=t[2],a=s[0],c=s[1],u=s[2],l=i-n[0],h=o-n[1],f=r-n[2],d=l*l+h*h+f*f;d===0?f=1:(d=1/Math.sqrt(d),l*=d,h*=d,f*=d);let p=c*f-u*h,m=u*l-a*f,g=a*h-c*l;return d=p*p+m*m+g*g,d===0&&(u?a+=1e-6:c?u+=1e-6:c+=1e-6,p=c*f-u*h,m=u*l-a*f,g=a*h-c*l,d=p*p+m*m+g*g),d=1/Math.sqrt(d),p*=d,m*=d,g*=d,e[0]=p,e[1]=m,e[2]=g,e[3]=0,e[4]=h*g-f*m,e[5]=f*p-l*g,e[6]=l*m-h*p,e[7]=0,e[8]=l,e[9]=h,e[10]=f,e[11]=0,e[12]=i,e[13]=o,e[14]=r,e[15]=1,e}function Zr(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function Br(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function D0(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}class Xt extends Array{constructor(t=1,n=0,s=0,i=0,o=0,r=1,a=0,c=0,u=0,l=0,h=1,f=0,d=0,p=0,m=0,g=1){return super(t,n,s,i,o,r,a,c,u,l,h,f,d,p,m,g),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,n,s,i,o,r,a,c,u,l,h,f,d,p,m,g){return t.length?this.copy(t):(b0(this,t,n,s,i,o,r,a,c,u,l,h,f,d,p,m,g),this)}translate(t,n=this){return _0(this,n,t),this}rotate(t,n,s=this){return S0(this,s,t,n),this}scale(t,n=this){return T0(this,n,typeof t=="number"?[t,t,t]:t),this}add(t,n){return n?Zr(this,t,n):Zr(this,this,t),this}sub(t,n){return n?Br(this,t,n):Br(this,this,t),this}multiply(t,n){return t.length?n?Nr(this,t,n):Nr(this,this,t):D0(this,this,t),this}identity(){return w0(this),this}copy(t){return v0(this,t),this}fromPerspective({fov:t,aspect:n,near:s,far:i}={}){return M0(this,t,n,s,i),this}fromOrthogonal({left:t,right:n,bottom:s,top:i,near:o,far:r}){return z0(this,t,n,s,i,o,r),this}fromQuaternion(t){return C0(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){return x0(this,t),this}compose(t,n,s){return k0(this,t,n,s),this}decompose(t,n,s){return P0(this,t,n,s),this}getRotation(t){return pc(t,this),this}getTranslation(t){return A0(t,this),this}getScaling(t){return dc(t,this),this}getMaxScaleOnAxis(){return E0(this)}lookAt(t,n,s){return O0(this,t,n,s),this}determinant(){return fc(this)}fromArray(t,n=0){return this[0]=t[n],this[1]=t[n+1],this[2]=t[n+2],this[3]=t[n+3],this[4]=t[n+4],this[5]=t[n+5],this[6]=t[n+6],this[7]=t[n+7],this[8]=t[n+8],this[9]=t[n+9],this[10]=t[n+10],this[11]=t[n+11],this[12]=t[n+12],this[13]=t[n+13],this[14]=t[n+14],this[15]=t[n+15],this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t[n+3]=this[3],t[n+4]=this[4],t[n+5]=this[5],t[n+6]=this[6],t[n+7]=this[7],t[n+8]=this[8],t[n+9]=this[9],t[n+10]=this[10],t[n+11]=this[11],t[n+12]=this[12],t[n+13]=this[13],t[n+14]=this[14],t[n+15]=this[15],t}}function V0(e,t,n="YXZ"){return n==="XYZ"?(e[1]=Math.asin(Math.min(Math.max(t[8],-1),1)),Math.abs(t[8])<.99999?(e[0]=Math.atan2(-t[9],t[10]),e[2]=Math.atan2(-t[4],t[0])):(e[0]=Math.atan2(t[6],t[5]),e[2]=0)):n==="YXZ"?(e[0]=Math.asin(-Math.min(Math.max(t[9],-1),1)),Math.abs(t[9])<.99999?(e[1]=Math.atan2(t[8],t[10]),e[2]=Math.atan2(t[1],t[5])):(e[1]=Math.atan2(-t[2],t[0]),e[2]=0)):n==="ZXY"?(e[0]=Math.asin(Math.min(Math.max(t[6],-1),1)),Math.abs(t[6])<.99999?(e[1]=Math.atan2(-t[2],t[10]),e[2]=Math.atan2(-t[4],t[5])):(e[1]=0,e[2]=Math.atan2(t[1],t[0]))):n==="ZYX"?(e[1]=Math.asin(-Math.min(Math.max(t[2],-1),1)),Math.abs(t[2])<.99999?(e[0]=Math.atan2(t[6],t[10]),e[2]=Math.atan2(t[1],t[0])):(e[0]=0,e[2]=Math.atan2(-t[4],t[5]))):n==="YZX"?(e[2]=Math.asin(Math.min(Math.max(t[1],-1),1)),Math.abs(t[1])<.99999?(e[0]=Math.atan2(-t[9],t[5]),e[1]=Math.atan2(-t[2],t[0])):(e[0]=0,e[1]=Math.atan2(t[8],t[10]))):n==="XZY"&&(e[2]=Math.asin(-Math.min(Math.max(t[4],-1),1)),Math.abs(t[4])<.99999?(e[0]=Math.atan2(t[6],t[5]),e[1]=Math.atan2(t[8],t[0])):(e[0]=Math.atan2(-t[9],t[10]),e[1]=0)),e}const Ur=new Xt;class R0 extends Array{constructor(t=0,n=t,s=t,i="YXZ"){super(t,n,s),this.order=i,this.onChange=()=>{},this._target=this;const o=["0","1","2"];return new Proxy(this,{set(r,a){const c=Reflect.set(...arguments);return c&&o.includes(a)&&r.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set(t,n=t,s=t){return t.length?this.copy(t):(this._target[0]=t,this._target[1]=n,this._target[2]=s,this.onChange(),this)}copy(t){return this._target[0]=t[0],this._target[1]=t[1],this._target[2]=t[2],this.onChange(),this}reorder(t){return this._target.order=t,this.onChange(),this}fromRotationMatrix(t,n=this.order){return V0(this._target,t,n),this.onChange(),this}fromQuaternion(t,n=this.order,s){return Ur.fromQuaternion(t),this._target.fromRotationMatrix(Ur,n),s||this.onChange(),this}fromArray(t,n=0){return this._target[0]=t[n],this._target[1]=t[n+1],this._target[2]=t[n+2],this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t}}class I0{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Xt,this.worldMatrix=new Xt,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new he,this.quaternion=new g0,this.scale=new he(1),this.rotation=new R0,this.up=new he(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(t,n=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,n&&t&&t.addChild(this,!1)}addChild(t,n=!0){~this.children.indexOf(t)||this.children.push(t),n&&t.setParent(this,!1)}removeChild(t,n=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),n&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let n=0,s=this.children.length;n<s;n++)this.children[n].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let n=0,s=this.children.length;n<s;n++)this.children[n].traverse(t)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,n=!1){n?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function $0(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function L0(e,t){let n=t[0],s=t[1],i=t[2],o=t[3],r=n+n,a=s+s,c=i+i,u=n*r,l=s*r,h=s*a,f=i*r,d=i*a,p=i*c,m=o*r,g=o*a,y=o*c;return e[0]=1-h-p,e[3]=l-y,e[6]=f+g,e[1]=l+y,e[4]=1-u-p,e[7]=d-m,e[2]=f-g,e[5]=d+m,e[8]=1-u-h,e}function F0(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function j0(e,t,n,s,i,o,r,a,c,u){return e[0]=t,e[1]=n,e[2]=s,e[3]=i,e[4]=o,e[5]=r,e[6]=a,e[7]=c,e[8]=u,e}function N0(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Z0(e,t){let n=t[0],s=t[1],i=t[2],o=t[3],r=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=l*r-a*u,f=-l*o+a*c,d=u*o-r*c,p=n*h+s*f+i*d;return p?(p=1/p,e[0]=h*p,e[1]=(-l*s+i*u)*p,e[2]=(a*s-i*r)*p,e[3]=f*p,e[4]=(l*n-i*c)*p,e[5]=(-a*n+i*o)*p,e[6]=d*p,e[7]=(-u*n+s*c)*p,e[8]=(r*n-s*o)*p,e):null}function Wr(e,t,n){let s=t[0],i=t[1],o=t[2],r=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=t[8],f=n[0],d=n[1],p=n[2],m=n[3],g=n[4],y=n[5],S=n[6],b=n[7],_=n[8];return e[0]=f*s+d*r+p*u,e[1]=f*i+d*a+p*l,e[2]=f*o+d*c+p*h,e[3]=m*s+g*r+y*u,e[4]=m*i+g*a+y*l,e[5]=m*o+g*c+y*h,e[6]=S*s+b*r+_*u,e[7]=S*i+b*a+_*l,e[8]=S*o+b*c+_*h,e}function B0(e,t,n){let s=t[0],i=t[1],o=t[2],r=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=t[8],f=n[0],d=n[1];return e[0]=s,e[1]=i,e[2]=o,e[3]=r,e[4]=a,e[5]=c,e[6]=f*s+d*r+u,e[7]=f*i+d*a+l,e[8]=f*o+d*c+h,e}function U0(e,t,n){let s=t[0],i=t[1],o=t[2],r=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=t[8],f=Math.sin(n),d=Math.cos(n);return e[0]=d*s+f*r,e[1]=d*i+f*a,e[2]=d*o+f*c,e[3]=d*r-f*s,e[4]=d*a-f*i,e[5]=d*c-f*o,e[6]=u,e[7]=l,e[8]=h,e}function W0(e,t,n){let s=n[0],i=n[1];return e[0]=s*t[0],e[1]=s*t[1],e[2]=s*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function G0(e,t){let n=t[0],s=t[1],i=t[2],o=t[3],r=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=t[9],f=t[10],d=t[11],p=t[12],m=t[13],g=t[14],y=t[15],S=n*a-s*r,b=n*c-i*r,_=n*u-o*r,v=s*c-i*a,w=s*u-o*a,A=i*u-o*c,T=l*m-h*p,k=l*g-f*p,M=l*y-d*p,D=h*g-f*m,O=h*y-d*m,V=f*y-d*g,C=S*V-b*O+_*D+v*M-w*k+A*T;return C?(C=1/C,e[0]=(a*V-c*O+u*D)*C,e[1]=(c*M-r*V-u*k)*C,e[2]=(r*O-a*M+u*T)*C,e[3]=(i*O-s*V-o*D)*C,e[4]=(n*V-i*M+o*k)*C,e[5]=(s*M-n*O-o*T)*C,e[6]=(m*A-g*w+y*v)*C,e[7]=(g*_-p*A-y*b)*C,e[8]=(p*w-m*_+y*S)*C,e):null}class K0 extends Array{constructor(t=1,n=0,s=0,i=0,o=1,r=0,a=0,c=0,u=1){return super(t,n,s,i,o,r,a,c,u),this}set(t,n,s,i,o,r,a,c,u){return t.length?this.copy(t):(j0(this,t,n,s,i,o,r,a,c,u),this)}translate(t,n=this){return B0(this,n,t),this}rotate(t,n=this){return U0(this,n,t),this}scale(t,n=this){return W0(this,n,t),this}multiply(t,n){return n?Wr(this,t,n):Wr(this,this,t),this}identity(){return N0(this),this}copy(t){return F0(this,t),this}fromMatrix4(t){return $0(this,t),this}fromQuaternion(t){return L0(this,t),this}fromBasis(t,n,s){return this.set(t[0],t[1],t[2],n[0],n[1],n[2],s[0],s[1],s[2]),this}inverse(t=this){return Z0(this,t),this}getNormalMatrix(t){return G0(this,t),this}}let q0=0;class z1 extends I0{constructor(t,{geometry:n,program:s,mode:i=t.TRIANGLES,frustumCulled:o=!0,renderOrder:r=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=q0++,this.geometry=n,this.program=s,this.mode=i,this.frustumCulled=o,this.renderOrder=r,this.modelViewMatrix=new Xt,this.normalMatrix=new K0,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:t}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:t}))}}const Gr={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function Kr(e){e.length===4&&(e=e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t||console.warn(`Unable to convert hex string ${e} to rgb values`),[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255]}function H0(e){return e=parseInt(e),[(e>>16&255)/255,(e>>8&255)/255,(e&255)/255]}function qr(e){return e===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(e)?e[0]==="#"?Kr(e):Gr[e.toLowerCase()]?Kr(Gr[e.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):H0(e)}class O1 extends Array{constructor(t){return Array.isArray(t)?super(...t):super(...qr(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(t){this[0]=t}set g(t){this[1]=t}set b(t){this[2]=t}set(t){return Array.isArray(t)?this.copy(t):this.copy(qr(...arguments))}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this}}class D1 extends Gy{constructor(t,{attributes:n={}}={}){Object.assign(n,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,n)}}var On,Hr;function X0(){if(Hr)return On;Hr=1;var e="Expected a function",t=NaN,n="[object Symbol]",s=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,r=/^0o[0-7]+$/i,a=parseInt,c=typeof Se=="object"&&Se&&Se.Object===Object&&Se,u=typeof self=="object"&&self&&self.Object===Object&&self,l=c||u||Function("return this")(),h=Object.prototype,f=h.toString,d=Math.max,p=Math.min,m=function(){return l.Date.now()};function g(w,A,T){var k,M,D,O,V,C,Y=0,ge=!1,$=!1,W=!0;if(typeof w!="function")throw new TypeError(e);A=v(A)||0,S(T)&&(ge=!!T.leading,$="maxWait"in T,D=$?d(v(T.maxWait)||0,A):D,W="trailing"in T?!!T.trailing:W);function ie(I){var se=k,_e=M;return k=M=void 0,Y=I,O=w.apply(_e,se),O}function fe(I){return Y=I,V=setTimeout(Oe,A),ge?ie(I):O}function Be(I){var se=I-C,_e=I-Y,Gs=A-se;return $?p(Gs,D-_e):Gs}function ze(I){var se=I-C,_e=I-Y;return C===void 0||se>=A||se<0||$&&_e>=D}function Oe(){var I=m();if(ze(I))return Et(I);V=setTimeout(Oe,Be(I))}function Et(I){return V=void 0,W&&k?ie(I):(k=M=void 0,O)}function ln(){V!==void 0&&clearTimeout(V),Y=0,k=C=M=V=void 0}function nt(){return V===void 0?O:Et(m())}function j(){var I=m(),se=ze(I);if(k=arguments,M=this,C=I,se){if(V===void 0)return fe(C);if($)return V=setTimeout(Oe,A),ie(C)}return V===void 0&&(V=setTimeout(Oe,A)),O}return j.cancel=ln,j.flush=nt,j}function y(w,A,T){var k=!0,M=!0;if(typeof w!="function")throw new TypeError(e);return S(T)&&(k="leading"in T?!!T.leading:k,M="trailing"in T?!!T.trailing:M),g(w,A,{leading:k,maxWait:A,trailing:M})}function S(w){var A=typeof w;return!!w&&(A=="object"||A=="function")}function b(w){return!!w&&typeof w=="object"}function _(w){return typeof w=="symbol"||b(w)&&f.call(w)==n}function v(w){if(typeof w=="number")return w;if(_(w))return t;if(S(w)){var A=typeof w.valueOf=="function"?w.valueOf():w;w=S(A)?A+"":A}if(typeof w!="string")return w===0?w:+w;w=w.replace(s,"");var T=o.test(w);return T||r.test(w)?a(w.slice(2),T?2:8):i.test(w)?t:+w}return On=y,On}var Y0=X0();const J0=so(Y0);var Dn,Xr;function Q0(){if(Xr)return Dn;Xr=1;var e="Expected a function",t=NaN,n="[object Symbol]",s=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,r=/^0o[0-7]+$/i,a=parseInt,c=typeof Se=="object"&&Se&&Se.Object===Object&&Se,u=typeof self=="object"&&self&&self.Object===Object&&self,l=c||u||Function("return this")(),h=Object.prototype,f=h.toString,d=Math.max,p=Math.min,m=function(){return l.Date.now()};function g(v,w,A){var T,k,M,D,O,V,C=0,Y=!1,ge=!1,$=!0;if(typeof v!="function")throw new TypeError(e);w=_(w)||0,y(A)&&(Y=!!A.leading,ge="maxWait"in A,M=ge?d(_(A.maxWait)||0,w):M,$="trailing"in A?!!A.trailing:$);function W(j){var I=T,se=k;return T=k=void 0,C=j,D=v.apply(se,I),D}function ie(j){return C=j,O=setTimeout(ze,w),Y?W(j):D}function fe(j){var I=j-V,se=j-C,_e=w-I;return ge?p(_e,M-se):_e}function Be(j){var I=j-V,se=j-C;return V===void 0||I>=w||I<0||ge&&se>=M}function ze(){var j=m();if(Be(j))return Oe(j);O=setTimeout(ze,fe(j))}function Oe(j){return O=void 0,$&&T?W(j):(T=k=void 0,D)}function Et(){O!==void 0&&clearTimeout(O),C=0,T=V=k=O=void 0}function ln(){return O===void 0?D:Oe(m())}function nt(){var j=m(),I=Be(j);if(T=arguments,k=this,V=j,I){if(O===void 0)return ie(V);if(ge)return O=setTimeout(ze,w),W(V)}return O===void 0&&(O=setTimeout(ze,w)),D}return nt.cancel=Et,nt.flush=ln,nt}function y(v){var w=typeof v;return!!v&&(w=="object"||w=="function")}function S(v){return!!v&&typeof v=="object"}function b(v){return typeof v=="symbol"||S(v)&&f.call(v)==n}function _(v){if(typeof v=="number")return v;if(b(v))return t;if(y(v)){var w=typeof v.valueOf=="function"?v.valueOf():v;v=y(w)?w+"":w}if(typeof v!="string")return v===0?v:+v;v=v.replace(s,"");var A=o.test(v);return A||r.test(v)?a(v.slice(2),A?2:8):i.test(v)?t:+v}return Dn=g,Dn}var e1=Q0();const Yr=so(e1);var mc=function(){};function gc(e){var t=void 0,n=void 0,s=void 0;for(t=0;t<e.length;t+=1)if(n=e[t],n.dataset&&n.dataset.aos||(s=n.children&&gc(n.children),s))return!0;return!1}function t1(e){e&&e.forEach(function(t){var n=Array.prototype.slice.call(t.addedNodes),s=Array.prototype.slice.call(t.removedNodes),i=n.concat(s);if(gc(i))return mc()})}function yc(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function n1(){return!!yc()}function s1(e,t){var n=window.document,s=yc(),i=new s(t1);mc=t,i.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}var Jr={isSupported:n1,ready:s1},i1=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r1=(function(){function e(t,n){for(var s=0;s<n.length;s++){var i=n[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}})(),o1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},a1=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,c1=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u1=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,l1=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function Qr(){return navigator.userAgent||navigator.vendor||window.opera||""}var h1=(function(){function e(){i1(this,e)}return r1(e,[{key:"phone",value:function(){var n=Qr();return!!(a1.test(n)||c1.test(n.substr(0,4)))}},{key:"mobile",value:function(){var n=Qr();return!!(u1.test(n)||l1.test(n.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}},{key:"ie11",value:function(){return"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style}}]),e})(),Ft=new h1,f1=function(t,n){return n&&n.forEach(function(s){return t.classList.add(s)})},d1=function(t,n){return n&&n.forEach(function(s){return t.classList.remove(s)})},Vt=function(t,n){var s=void 0;return Ft.ie11()?(s=document.createEvent("CustomEvent"),s.initCustomEvent(t,!0,!0,{detail:n})):s=new CustomEvent(t,{detail:n}),document.dispatchEvent(s)},p1=function(t,n){var s=t.options,i=t.position,o=t.node;t.data;var r=function(){t.animated&&(d1(o,s.animatedClassNames),Vt("aos:out",o),t.options.id&&Vt("aos:in:"+t.options.id,o),t.animated=!1)},a=function(){t.animated||(f1(o,s.animatedClassNames),Vt("aos:in",o),t.options.id&&Vt("aos:in:"+t.options.id,o),t.animated=!0)};s.mirror&&n>=i.out&&!s.once?r():n>=i.in?a():t.animated&&!s.once&&r()},eo=function(t){return t.forEach(function(n,s){return p1(n,window.pageYOffset)})},vc=function(t){for(var n=0,s=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)n+=t.offsetLeft-(t.tagName!="BODY"?t.scrollLeft:0),s+=t.offsetTop-(t.tagName!="BODY"?t.scrollTop:0),t=t.offsetParent;return{top:s,left:n}},Ee=(function(e,t,n){var s=e.getAttribute("data-aos-"+t);if(typeof s<"u"){if(s==="true")return!0;if(s==="false")return!1}return s||n}),m1=function(t,n,s){var i=window.innerHeight,o=Ee(t,"anchor"),r=Ee(t,"anchor-placement"),a=Number(Ee(t,"offset",r?0:n)),c=r||s,u=t;o&&document.querySelectorAll(o)&&(u=document.querySelectorAll(o)[0]);var l=vc(u).top-i;switch(c){case"top-bottom":break;case"center-bottom":l+=u.offsetHeight/2;break;case"bottom-bottom":l+=u.offsetHeight;break;case"top-center":l+=i/2;break;case"center-center":l+=i/2+u.offsetHeight/2;break;case"bottom-center":l+=i/2+u.offsetHeight;break;case"top-top":l+=i;break;case"bottom-top":l+=i+u.offsetHeight;break;case"center-top":l+=i+u.offsetHeight/2;break}return l+a},g1=function(t,n){var s=Ee(t,"anchor"),i=Ee(t,"offset",n),o=t;s&&document.querySelectorAll(s)&&(o=document.querySelectorAll(s)[0]);var r=vc(o).top;return r+o.offsetHeight-i},y1=function(t,n){return t.forEach(function(s,i){var o=Ee(s.node,"mirror",n.mirror),r=Ee(s.node,"once",n.once),a=Ee(s.node,"id"),c=n.useClassNames&&s.node.getAttribute("data-aos"),u=[n.animatedClassName].concat(c?c.split(" "):[]).filter(function(l){return typeof l=="string"});n.initClassName&&s.node.classList.add(n.initClassName),s.position={in:m1(s.node,n.offset,n.anchorPlacement),out:o&&g1(s.node,n.offset)},s.options={once:r,mirror:o,animatedClassNames:u,id:a}}),t},bc=(function(){var e=document.querySelectorAll("[data-aos]");return Array.prototype.map.call(e,function(t){return{node:t}})}),ye=[],to=!1,B={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,mirror:!1,anchorPlacement:"top-bottom",startEvent:"DOMContentLoaded",animatedClassName:"aos-animate",initClassName:"aos-init",useClassNames:!1,disableMutationObserver:!1,throttleDelay:99,debounceDelay:50},wc=function(){return document.all&&!window.atob},v1=function(){return ye=y1(ye,B),eo(ye),window.addEventListener("scroll",J0(function(){eo(ye,B.once)},B.throttleDelay)),ye},Re=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;t&&(to=!0),to&&v1()},xc=function(){if(ye=bc(),Tc(B.disable)||wc())return _c();Re()},_c=function(){ye.forEach(function(t,n){t.node.removeAttribute("data-aos"),t.node.removeAttribute("data-aos-easing"),t.node.removeAttribute("data-aos-duration"),t.node.removeAttribute("data-aos-delay"),B.initClassName&&t.node.classList.remove(B.initClassName),B.animatedClassName&&t.node.classList.remove(B.animatedClassName)})},Tc=function(t){return t===!0||t==="mobile"&&Ft.mobile()||t==="phone"&&Ft.phone()||t==="tablet"&&Ft.tablet()||typeof t=="function"&&t()===!0},b1=function(t){return B=o1(B,t),ye=bc(),!B.disableMutationObserver&&!Jr.isSupported()&&(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),B.disableMutationObserver=!0),B.disableMutationObserver||Jr.ready("[data-aos]",xc),Tc(B.disable)||wc()?_c():(document.querySelector("body").setAttribute("data-aos-easing",B.easing),document.querySelector("body").setAttribute("data-aos-duration",B.duration),document.querySelector("body").setAttribute("data-aos-delay",B.delay),["DOMContentLoaded","load"].indexOf(B.startEvent)===-1?document.addEventListener(B.startEvent,function(){Re(!0)}):window.addEventListener("load",function(){Re(!0)}),B.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1&&Re(!0),window.addEventListener("resize",Yr(Re,B.debounceDelay,!0)),window.addEventListener("orientationchange",Yr(Re,B.debounceDelay,!0)),ye)},V1={init:b1,refresh:Re,refreshHard:xc};export{x1 as A,O1 as C,z1 as M,C1 as P,M1 as R,D1 as T,k1 as a,V1 as b,id as c,S1 as d,A1 as e,so as g,T1 as m,P1 as o,E1 as s,ja as u};
